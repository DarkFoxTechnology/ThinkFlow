var Xu=Object.defineProperty;var Zu=(t,e,n)=>e in t?Xu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ne=(t,e,n)=>(Zu(t,typeof e!="symbol"?e+"":e,n),n),Qu=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var ji=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var Rs=(t,e,n)=>(Qu(t,e,"access private method"),n);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Z={},un=[],je=()=>{},eh=()=>!1,_i=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Wr=t=>t.startsWith("onUpdate:"),Se=Object.assign,Jr=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},th=Object.prototype.hasOwnProperty,W=(t,e)=>th.call(t,e),L=Array.isArray,hn=t=>ki(t)==="[object Map]",ic=t=>ki(t)==="[object Set]",N=t=>typeof t=="function",ae=t=>typeof t=="string",Mt=t=>typeof t=="symbol",ie=t=>t!==null&&typeof t=="object",rc=t=>(ie(t)||N(t))&&N(t.then)&&N(t.catch),oc=Object.prototype.toString,ki=t=>oc.call(t),nh=t=>ki(t).slice(8,-1),lc=t=>ki(t)==="[object Object]",Yr=t=>ae(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jn=Kr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},sh=/-(\w)/g,It=xi(t=>t.replace(sh,(e,n)=>n?n.toUpperCase():"")),ih=/\B([A-Z])/g,Bt=xi(t=>t.replace(ih,"-$1").toLowerCase()),cc=xi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hi=xi(t=>t?`on${cc(t)}`:""),Rt=(t,e)=>!Object.is(t,e),Vs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ac=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},dr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ko;const gs=()=>Ko||(Ko=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gr(t){if(L(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=ae(s)?ch(s):Gr(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(ae(t)||ie(t))return t}const rh=/;(?![^(]*\))/g,oh=/:([^]+)/,lh=/\/\*[^]*?\*\//g;function ch(t){const e={};return t.replace(lh,"").split(rh).forEach(n=>{if(n){const s=n.split(oh);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Xr(t){let e="";if(ae(t))e=t;else if(L(t))for(let n=0;n<t.length;n++){const s=Xr(t[n]);s&&(e+=s+" ")}else if(ie(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ah="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uh=Kr(ah);function uc(t){return!!t||t===""}const hc=t=>!!(t&&t.__v_isRef===!0),hh=t=>ae(t)?t:t==null?"":L(t)||ie(t)&&(t.toString===oc||!N(t.toString))?hc(t)?hh(t.value):JSON.stringify(t,fc,2):String(t),fc=(t,e)=>hc(e)?fc(t,e.value):hn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[zi(s,r)+" =>"]=i,n),{})}:ic(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zi(n))}:Mt(e)?zi(e):ie(e)&&!L(e)&&!lc(e)?String(e):e,zi=(t,e="")=>{var n;return Mt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class dc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!e&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ke;try{return ke=this,e()}finally{ke=n}}}on(){ke=this}off(){ke=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function pc(t){return new dc(t)}function gc(){return ke}function fh(t,e=!1){ke&&ke.cleanups.push(t)}let te;const qi=new WeakSet;class mc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qi.has(this)&&(qi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wo(this),bc(this);const e=te,n=He;te=this,He=!0;try{return this.fn()}finally{_c(this),te=e,He=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)eo(e);this.deps=this.depsTail=void 0,Wo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pr(this)&&this.run()}get dirty(){return pr(this)}}let yc=0,Hn,zn;function wc(t,e=!1){if(t.flags|=8,e){t.next=zn,zn=t;return}t.next=Hn,Hn=t}function Zr(){yc++}function Qr(){if(--yc>0)return;if(zn){let e=zn;for(zn=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Hn;){let e=Hn;for(Hn=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function bc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function _c(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),eo(s),dh(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function pr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(kc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function kc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===es))return;t.globalVersion=es;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!pr(t)){t.flags&=-3;return}const n=te,s=He;te=t,He=!0;try{bc(t);const i=t.fn(t._value);(e.version===0||Rt(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{te=n,He=s,_c(t),t.flags&=-3}}function eo(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)eo(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function dh(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let He=!0;const xc=[];function Ut(){xc.push(He),He=!1}function $t(){const t=xc.pop();He=t===void 0?!0:t}function Wo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=te;te=void 0;try{e()}finally{te=n}}}let es=0;class ph{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class to{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!te||!He||te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==te)n=this.activeLink=new ph(te,this),te.deps?(n.prevDep=te.depsTail,te.depsTail.nextDep=n,te.depsTail=n):te.deps=te.depsTail=n,Sc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=te.depsTail,n.nextDep=void 0,te.depsTail.nextDep=n,te.depsTail=n,te.deps===n&&(te.deps=s)}return n}trigger(e){this.version++,es++,this.notify(e)}notify(e){Zr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Qr()}}}function Sc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Sc(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Qs=new WeakMap,zt=Symbol(""),gr=Symbol(""),ts=Symbol("");function ye(t,e,n){if(He&&te){let s=Qs.get(t);s||Qs.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new to),i.map=s,i.key=n),i.track()}}function pt(t,e,n,s,i,r){const o=Qs.get(t);if(!o){es++;return}const l=c=>{c&&c.trigger()};if(Zr(),e==="clear")o.forEach(l);else{const c=L(t),u=c&&Yr(n);if(c&&n==="length"){const a=Number(s);o.forEach((h,f)=>{(f==="length"||f===ts||!Mt(f)&&f>=a)&&l(h)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(ts)),e){case"add":c?u&&l(o.get("length")):(l(o.get(zt)),hn(t)&&l(o.get(gr)));break;case"delete":c||(l(o.get(zt)),hn(t)&&l(o.get(gr)));break;case"set":hn(t)&&l(o.get(zt));break}}Qr()}function gh(t,e){const n=Qs.get(t);return n&&n.get(e)}function rn(t){const e=K(t);return e===t?e:(ye(e,"iterate",ts),Pe(t)?e:e.map(we))}function Si(t){return ye(t=K(t),"iterate",ts),t}const mh={__proto__:null,[Symbol.iterator](){return Ki(this,Symbol.iterator,we)},concat(...t){return rn(this).concat(...t.map(e=>L(e)?rn(e):e))},entries(){return Ki(this,"entries",t=>(t[1]=we(t[1]),t))},every(t,e){return ht(this,"every",t,e,void 0,arguments)},filter(t,e){return ht(this,"filter",t,e,n=>n.map(we),arguments)},find(t,e){return ht(this,"find",t,e,we,arguments)},findIndex(t,e){return ht(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ht(this,"findLast",t,e,we,arguments)},findLastIndex(t,e){return ht(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ht(this,"forEach",t,e,void 0,arguments)},includes(...t){return Wi(this,"includes",t)},indexOf(...t){return Wi(this,"indexOf",t)},join(t){return rn(this).join(t)},lastIndexOf(...t){return Wi(this,"lastIndexOf",t)},map(t,e){return ht(this,"map",t,e,void 0,arguments)},pop(){return Nn(this,"pop")},push(...t){return Nn(this,"push",t)},reduce(t,...e){return Jo(this,"reduce",t,e)},reduceRight(t,...e){return Jo(this,"reduceRight",t,e)},shift(){return Nn(this,"shift")},some(t,e){return ht(this,"some",t,e,void 0,arguments)},splice(...t){return Nn(this,"splice",t)},toReversed(){return rn(this).toReversed()},toSorted(t){return rn(this).toSorted(t)},toSpliced(...t){return rn(this).toSpliced(...t)},unshift(...t){return Nn(this,"unshift",t)},values(){return Ki(this,"values",we)}};function Ki(t,e,n){const s=Si(t),i=s[e]();return s!==t&&!Pe(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const yh=Array.prototype;function ht(t,e,n,s,i,r){const o=Si(t),l=o!==t&&!Pe(t),c=o[e];if(c!==yh[e]){const h=c.apply(t,r);return l?we(h):h}let u=n;o!==t&&(l?u=function(h,f){return n.call(this,we(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const a=c.call(o,u,s);return l&&i?i(a):a}function Jo(t,e,n,s){const i=Si(t);let r=n;return i!==t&&(Pe(t)?n.length>3&&(r=function(o,l,c){return n.call(this,o,l,c,t)}):r=function(o,l,c){return n.call(this,o,we(l),c,t)}),i[e](r,...s)}function Wi(t,e,n){const s=K(t);ye(s,"iterate",ts);const i=s[e](...n);return(i===-1||i===!1)&&io(n[0])?(n[0]=K(n[0]),s[e](...n)):i}function Nn(t,e,n=[]){Ut(),Zr();const s=K(t)[e].apply(t,n);return Qr(),$t(),s}const wh=Kr("__proto__,__v_isRef,__isVue"),Ec=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mt));function bh(t){Mt(t)||(t=String(t));const e=K(this);return ye(e,"has",t),e.hasOwnProperty(t)}class Cc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Rh:Rc:r?vc:Ac).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=L(e);if(!i){let c;if(o&&(c=mh[n]))return c;if(n==="hasOwnProperty")return bh}const l=Reflect.get(e,n,oe(e)?e:s);return(Mt(n)?Ec.has(n):wh(n))||(i||ye(e,"get",n),r)?l:oe(l)?o&&Yr(n)?l:l.value:ie(l)?i?Oc(l):Ei(l):l}}class Tc extends Cc{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=Wt(r);if(!Pe(s)&&!Wt(s)&&(r=K(r),s=K(s)),!L(e)&&oe(r)&&!oe(s))return c?!1:(r.value=s,!0)}const o=L(e)&&Yr(n)?Number(n)<e.length:W(e,n),l=Reflect.set(e,n,s,oe(e)?e:i);return e===K(i)&&(o?Rt(s,r)&&pt(e,"set",n,s):pt(e,"add",n,s)),l}deleteProperty(e,n){const s=W(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&pt(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Mt(n)||!Ec.has(n))&&ye(e,"has",n),s}ownKeys(e){return ye(e,"iterate",L(e)?"length":zt),Reflect.ownKeys(e)}}class _h extends Cc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const kh=new Tc,xh=new _h,Sh=new Tc(!0);const mr=t=>t,Os=t=>Reflect.getPrototypeOf(t);function Eh(t,e,n){return function(...s){const i=this.__v_raw,r=K(i),o=hn(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...s),a=n?mr:e?yr:we;return!e&&ye(r,"iterate",c?gr:zt),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:l?[a(h[0]),a(h[1])]:a(h),done:f}},[Symbol.iterator](){return this}}}}function Ds(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ch(t,e){const n={get(i){const r=this.__v_raw,o=K(r),l=K(i);t||(Rt(i,l)&&ye(o,"get",i),ye(o,"get",l));const{has:c}=Os(o),u=e?mr:t?yr:we;if(c.call(o,i))return u(r.get(i));if(c.call(o,l))return u(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ye(K(i),"iterate",zt),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=K(r),l=K(i);return t||(Rt(i,l)&&ye(o,"has",i),ye(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=K(l),u=e?mr:t?yr:we;return!t&&ye(c,"iterate",zt),l.forEach((a,h)=>i.call(r,u(a),u(h),o))}};return Se(n,t?{add:Ds("add"),set:Ds("set"),delete:Ds("delete"),clear:Ds("clear")}:{add(i){!e&&!Pe(i)&&!Wt(i)&&(i=K(i));const r=K(this);return Os(r).has.call(r,i)||(r.add(i),pt(r,"add",i,i)),this},set(i,r){!e&&!Pe(r)&&!Wt(r)&&(r=K(r));const o=K(this),{has:l,get:c}=Os(o);let u=l.call(o,i);u||(i=K(i),u=l.call(o,i));const a=c.call(o,i);return o.set(i,r),u?Rt(r,a)&&pt(o,"set",i,r):pt(o,"add",i,r),this},delete(i){const r=K(this),{has:o,get:l}=Os(r);let c=o.call(r,i);c||(i=K(i),c=o.call(r,i)),l&&l.call(r,i);const u=r.delete(i);return c&&pt(r,"delete",i,void 0),u},clear(){const i=K(this),r=i.size!==0,o=i.clear();return r&&pt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Eh(i,t,e)}),n}function no(t,e){const n=Ch(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(W(n,i)&&i in s?n:s,i,r)}const Th={get:no(!1,!1)},Ah={get:no(!1,!0)},vh={get:no(!0,!1)};const Ac=new WeakMap,vc=new WeakMap,Rc=new WeakMap,Rh=new WeakMap;function Oh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dh(t){return t.__v_skip||!Object.isExtensible(t)?0:Oh(nh(t))}function Ei(t){return Wt(t)?t:so(t,!1,kh,Th,Ac)}function Ih(t){return so(t,!1,Sh,Ah,vc)}function Oc(t){return so(t,!0,xh,vh,Rc)}function so(t,e,n,s,i){if(!ie(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Dh(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function Ot(t){return Wt(t)?Ot(t.__v_raw):!!(t&&t.__v_isReactive)}function Wt(t){return!!(t&&t.__v_isReadonly)}function Pe(t){return!!(t&&t.__v_isShallow)}function io(t){return t?!!t.__v_raw:!1}function K(t){const e=t&&t.__v_raw;return e?K(e):t}function ro(t){return!W(t,"__v_skip")&&Object.isExtensible(t)&&ac(t,"__v_skip",!0),t}const we=t=>ie(t)?Ei(t):t,yr=t=>ie(t)?Oc(t):t;function oe(t){return t?t.__v_isRef===!0:!1}function Dc(t){return Lh(t,!1)}function Lh(t,e){return oe(t)?t:new Nh(t,e)}class Nh{constructor(e,n){this.dep=new to,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:K(e),this._value=n?e:we(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Pe(e)||Wt(e);e=s?e:K(e),Rt(e,n)&&(this._rawValue=e,this._value=s?e:we(e),this.dep.trigger())}}function Mh(t){return oe(t)?t.value:t}const Bh={get:(t,e,n)=>e==="__v_raw"?t:Mh(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return oe(i)&&!oe(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Ic(t){return Ot(t)?t:new Proxy(t,Bh)}function Uh(t){const e=L(t)?new Array(t.length):{};for(const n in t)e[n]=Fh(t,n);return e}class $h{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return gh(K(this._object),this._key)}}function Fh(t,e,n){const s=t[e];return oe(s)?s:new $h(t,e,n)}class Ph{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new to(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=es-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return wc(this,!0),!0}get value(){const e=this.dep.track();return kc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Vh(t,e,n=!1){let s,i;return N(t)?s=t:(s=t.get,i=t.set),new Ph(s,i,n)}const Is={},ei=new WeakMap;let Ht;function jh(t,e=!1,n=Ht){if(n){let s=ei.get(n);s||ei.set(n,s=[]),s.push(t)}}function Hh(t,e,n=Z){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=n,u=O=>i?O:Pe(O)||i===!1||i===0?gt(O,1):gt(O);let a,h,f,p,m=!1,_=!1;if(oe(t)?(h=()=>t.value,m=Pe(t)):Ot(t)?(h=()=>u(t),m=!0):L(t)?(_=!0,m=t.some(O=>Ot(O)||Pe(O)),h=()=>t.map(O=>{if(oe(O))return O.value;if(Ot(O))return u(O);if(N(O))return c?c(O,2):O()})):N(t)?e?h=c?()=>c(t,2):t:h=()=>{if(f){Ut();try{f()}finally{$t()}}const O=Ht;Ht=a;try{return c?c(t,3,[p]):t(p)}finally{Ht=O}}:h=je,e&&i){const O=h,V=i===!0?1/0:i;h=()=>gt(O(),V)}const v=gc(),A=()=>{a.stop(),v&&v.active&&Jr(v.effects,a)};if(r&&e){const O=e;e=(...V)=>{O(...V),A()}}let P=_?new Array(t.length).fill(Is):Is;const U=O=>{if(!(!(a.flags&1)||!a.dirty&&!O))if(e){const V=a.run();if(i||m||(_?V.some((ut,me)=>Rt(ut,P[me])):Rt(V,P))){f&&f();const ut=Ht;Ht=a;try{const me=[V,P===Is?void 0:_&&P[0]===Is?[]:P,p];c?c(e,3,me):e(...me),P=V}finally{Ht=ut}}}else a.run()};return l&&l(U),a=new mc(h),a.scheduler=o?()=>o(U,!1):U,p=O=>jh(O,!1,a),f=a.onStop=()=>{const O=ei.get(a);if(O){if(c)c(O,4);else for(const V of O)V();ei.delete(a)}},e?s?U(!0):P=a.run():o?o(U.bind(null,!0),!0):a.run(),A.pause=a.pause.bind(a),A.resume=a.resume.bind(a),A.stop=A,A}function gt(t,e=1/0,n){if(e<=0||!ie(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,oe(t))gt(t.value,e,n);else if(L(t))for(let s=0;s<t.length;s++)gt(t[s],e,n);else if(ic(t)||hn(t))t.forEach(s=>{gt(s,e,n)});else if(lc(t)){for(const s in t)gt(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&gt(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ms(t,e,n,s){try{return s?t(...s):t()}catch(i){Ci(i,e,n)}}function rt(t,e,n,s){if(N(t)){const i=ms(t,e,n,s);return i&&rc(i)&&i.catch(r=>{Ci(r,e,n)}),i}if(L(t)){const i=[];for(let r=0;r<t.length;r++)i.push(rt(t[r],e,n,s));return i}}function Ci(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Z;if(e){let l=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const a=l.ec;if(a){for(let h=0;h<a.length;h++)if(a[h](t,c,u)===!1)return}l=l.parent}if(r){Ut(),ms(r,null,10,[t,c,u]),$t();return}}zh(t,n,i,s,o)}function zh(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const xe=[];let Xe=-1;const fn=[];let Ct=null,ln=0;const Lc=Promise.resolve();let ti=null;function Nc(t){const e=ti||Lc;return t?e.then(this?t.bind(this):t):e}function qh(t){let e=Xe+1,n=xe.length;for(;e<n;){const s=e+n>>>1,i=xe[s],r=ns(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function oo(t){if(!(t.flags&1)){const e=ns(t),n=xe[xe.length-1];!n||!(t.flags&2)&&e>=ns(n)?xe.push(t):xe.splice(qh(e),0,t),t.flags|=1,Mc()}}function Mc(){ti||(ti=Lc.then($c))}function Bc(t){L(t)?fn.push(...t):Ct&&t.id===-1?Ct.splice(ln+1,0,t):t.flags&1||(fn.push(t),t.flags|=1),Mc()}function Yo(t,e,n=Xe+1){for(;n<xe.length;n++){const s=xe[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;xe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Uc(t){if(fn.length){const e=[...new Set(fn)].sort((n,s)=>ns(n)-ns(s));if(fn.length=0,Ct){Ct.push(...e);return}for(Ct=e,ln=0;ln<Ct.length;ln++){const n=Ct[ln];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ct=null,ln=0}}const ns=t=>t.id==null?t.flags&2?-1:1/0:t.id;function $c(t){try{for(Xe=0;Xe<xe.length;Xe++){const e=xe[Xe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ms(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Xe<xe.length;Xe++){const e=xe[Xe];e&&(e.flags&=-2)}Xe=-1,xe.length=0,Uc(),ti=null,(xe.length||fn.length)&&$c()}}let Te=null,Fc=null;function ni(t){const e=Te;return Te=t,Fc=t&&t.type.__scopeId||null,e}function Kh(t,e=Te,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&il(-1);const r=ni(e);let o;try{o=t(...i)}finally{ni(r),s._d&&il(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ow(t,e){if(Te===null)return t;const n=Ri(Te),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,c=Z]=e[i];r&&(N(r)&&(r={mounted:r,updated:r}),r.deep&&gt(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Vt(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[s];c&&(Ut(),rt(c,n,8,[t.el,l,t,e]),$t())}}const Wh=Symbol("_vte"),Jh=t=>t.__isTeleport;function lo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,lo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function si(t,e,n,s,i=!1){if(L(t)){t.forEach((m,_)=>si(m,e&&(L(e)?e[_]:e),n,s,i));return}if(qn(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&si(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Ri(s.component):s.el,o=i?null:r,{i:l,r:c}=t,u=e&&e.r,a=l.refs===Z?l.refs={}:l.refs,h=l.setupState,f=K(h),p=h===Z?()=>!1:m=>W(f,m);if(u!=null&&u!==c&&(ae(u)?(a[u]=null,p(u)&&(h[u]=null)):oe(u)&&(u.value=null)),N(c))ms(c,l,12,[o,a]);else{const m=ae(c),_=oe(c);if(m||_){const v=()=>{if(t.f){const A=m?p(c)?h[c]:a[c]:c.value;i?L(A)&&Jr(A,r):L(A)?A.includes(r)||A.push(r):m?(a[c]=[r],p(c)&&(h[c]=a[c])):(c.value=[r],t.k&&(a[t.k]=c.value))}else m?(a[c]=o,p(c)&&(h[c]=o)):_&&(c.value=o,t.k&&(a[t.k]=o))};o?(v.id=-1,Oe(v,n)):v()}}}gs().requestIdleCallback;gs().cancelIdleCallback;const qn=t=>!!t.type.__asyncLoader,Vc=t=>t.type.__isKeepAlive;function Yh(t,e){jc(t,"a",e)}function Gh(t,e){jc(t,"da",e)}function jc(t,e,n=pe){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ti(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Vc(i.parent.vnode)&&Xh(s,e,n,i),i=i.parent}}function Xh(t,e,n,s){const i=Ti(e,t,s,!0);co(()=>{Jr(s[e],i)},n)}function Ti(t,e,n=pe,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Ut();const l=ys(n),c=rt(e,n,t,o);return l(),$t(),c});return s?i.unshift(r):i.push(r),r}}const bt=t=>(e,n=pe)=>{(!is||t==="sp")&&Ti(t,(...s)=>e(...s),n)},Zh=bt("bm"),Hc=bt("m"),zc=bt("bu"),Qh=bt("u"),ef=bt("bum"),co=bt("um"),tf=bt("sp"),nf=bt("rtg"),sf=bt("rtc");function rf(t,e=pe){Ti("ec",t,e)}const of=Symbol.for("v-ndc");function lw(t,e,n,s){let i;const r=n,o=L(t);if(o||ae(t)){const l=o&&Ot(t);let c=!1;l&&(c=!Pe(t),t=Si(t)),i=new Array(t.length);for(let u=0,a=t.length;u<a;u++)i[u]=e(c?we(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(ie(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const a=l[c];i[c]=e(t[a],a,c,r)}}else i=[];return i}const wr=t=>t?da(t)?Ri(t):wr(t.parent):null,Kn=Se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wr(t.parent),$root:t=>wr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Kc(t),$forceUpdate:t=>t.f||(t.f=()=>{oo(t.update)}),$nextTick:t=>t.n||(t.n=Nc.bind(t.proxy)),$watch:t=>Of.bind(t)}),Ji=(t,e)=>t!==Z&&!t.__isScriptSetup&&W(t,e),lf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Ji(s,e))return o[e]=1,s[e];if(i!==Z&&W(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&W(u,e))return o[e]=3,r[e];if(n!==Z&&W(n,e))return o[e]=4,n[e];br&&(o[e]=0)}}const a=Kn[e];let h,f;if(a)return e==="$attrs"&&ye(t.attrs,"get",""),a(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==Z&&W(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,W(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Ji(i,e)?(i[e]=n,!0):s!==Z&&W(s,e)?(s[e]=n,!0):W(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==Z&&W(t,o)||Ji(e,o)||(l=r[0])&&W(l,o)||W(s,o)||W(Kn,o)||W(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:W(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Go(t){return L(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let br=!0;function cf(t){const e=Kc(t),n=t.proxy,s=t.ctx;br=!1,e.beforeCreate&&Xo(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:u,created:a,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:_,deactivated:v,beforeDestroy:A,beforeUnmount:P,destroyed:U,unmounted:O,render:V,renderTracked:ut,renderTriggered:me,errorCaptured:j,serverPrefetch:q,expose:le,inheritAttrs:Be,components:ze,directives:St,filters:On}=e;if(u&&af(u,s,null),o)for(const $ in o){const Q=o[$];N(Q)&&(s[$]=Q.bind(n))}if(i){const $=i.call(n,n);ie($)&&(t.data=Ei($))}if(br=!0,r)for(const $ in r){const Q=r[$],Ft=N(Q)?Q.bind(n,n):N(Q.get)?Q.get.bind(n,n):je,As=!N(Q)&&N(Q.set)?Q.set.bind(n):je,Pt=ga({get:Ft,set:As});Object.defineProperty(s,$,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:qe=>Pt.value=qe})}if(l)for(const $ in l)qc(l[$],s,n,$);if(c){const $=N(c)?c.call(n):c;Reflect.ownKeys($).forEach(Q=>{gf(Q,$[Q])})}a&&Xo(a,t,"c");function re($,Q){L(Q)?Q.forEach(Ft=>$(Ft.bind(n))):Q&&$(Q.bind(n))}if(re(Zh,h),re(Hc,f),re(zc,p),re(Qh,m),re(Yh,_),re(Gh,v),re(rf,j),re(sf,ut),re(nf,me),re(ef,P),re(co,O),re(tf,q),L(le))if(le.length){const $=t.exposed||(t.exposed={});le.forEach(Q=>{Object.defineProperty($,Q,{get:()=>n[Q],set:Ft=>n[Q]=Ft})})}else t.exposed||(t.exposed={});V&&t.render===je&&(t.render=V),Be!=null&&(t.inheritAttrs=Be),ze&&(t.components=ze),St&&(t.directives=St),q&&Pc(t)}function af(t,e,n=je){L(t)&&(t=_r(t));for(const s in t){const i=t[s];let r;ie(i)?"default"in i?r=Wn(i.from||s,i.default,!0):r=Wn(i.from||s):r=Wn(i),oe(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Xo(t,e,n){rt(L(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function qc(t,e,n,s){let i=s.includes(".")?oa(n,s):()=>n[s];if(ae(t)){const r=e[t];N(r)&&Jn(i,r)}else if(N(t))Jn(i,t.bind(n));else if(ie(t))if(L(t))t.forEach(r=>qc(r,e,n,s));else{const r=N(t.handler)?t.handler.bind(n):e[t.handler];N(r)&&Jn(i,r,t)}}function Kc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(u=>ii(c,u,o,!0)),ii(c,e,o)),ie(e)&&r.set(e,c),c}function ii(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&ii(t,r,n,!0),i&&i.forEach(o=>ii(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=uf[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const uf={data:Zo,props:Qo,emits:Qo,methods:Fn,computed:Fn,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:Fn,directives:Fn,watch:ff,provide:Zo,inject:hf};function Zo(t,e){return e?t?function(){return Se(N(t)?t.call(this,this):t,N(e)?e.call(this,this):e)}:e:t}function hf(t,e){return Fn(_r(t),_r(e))}function _r(t){if(L(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function _e(t,e){return t?[...new Set([].concat(t,e))]:e}function Fn(t,e){return t?Se(Object.create(null),t,e):e}function Qo(t,e){return t?L(t)&&L(e)?[...new Set([...t,...e])]:Se(Object.create(null),Go(t),Go(e??{})):e}function ff(t,e){if(!t)return e;if(!e)return t;const n=Se(Object.create(null),t);for(const s in e)n[s]=_e(t[s],e[s]);return n}function Wc(){return{app:null,config:{isNativeTag:eh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let df=0;function pf(t,e){return function(s,i=null){N(s)||(s=Se({},s)),i!=null&&!ie(i)&&(i=null);const r=Wc(),o=new WeakSet,l=[];let c=!1;const u=r.app={_uid:df++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:ed,get config(){return r.config},set config(a){},use(a,...h){return o.has(a)||(a&&N(a.install)?(o.add(a),a.install(u,...h)):N(a)&&(o.add(a),a(u,...h))),u},mixin(a){return r.mixins.includes(a)||r.mixins.push(a),u},component(a,h){return h?(r.components[a]=h,u):r.components[a]},directive(a,h){return h?(r.directives[a]=h,u):r.directives[a]},mount(a,h,f){if(!c){const p=u._ceVNode||mt(s,i);return p.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(p,a,f),c=!0,u._container=a,a.__vue_app__=u,Ri(p.component)}},onUnmount(a){l.push(a)},unmount(){c&&(rt(l,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(a,h){return r.provides[a]=h,u},runWithContext(a){const h=qt;qt=u;try{return a()}finally{qt=h}}};return u}}let qt=null;function gf(t,e){if(pe){let n=pe.provides;const s=pe.parent&&pe.parent.provides;s===n&&(n=pe.provides=Object.create(s)),n[t]=e}}function Wn(t,e,n=!1){const s=pe||Te;if(s||qt){const i=qt?qt._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&N(e)?e.call(s&&s.proxy):e}}function mf(){return!!(pe||Te||qt)}const Jc={},Yc=()=>Object.create(Jc),Gc=t=>Object.getPrototypeOf(t)===Jc;function yf(t,e,n,s=!1){const i={},r=Yc();t.propsDefaults=Object.create(null),Xc(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Ih(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function wf(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=K(i),[c]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const a=t.vnode.dynamicProps;for(let h=0;h<a.length;h++){let f=a[h];if(Ai(t.emitsOptions,f))continue;const p=e[f];if(c)if(W(r,f))p!==r[f]&&(r[f]=p,u=!0);else{const m=It(f);i[m]=kr(c,l,m,p,t,!1)}else p!==r[f]&&(r[f]=p,u=!0)}}}else{Xc(t,e,i,r)&&(u=!0);let a;for(const h in l)(!e||!W(e,h)&&((a=Bt(h))===h||!W(e,a)))&&(c?n&&(n[h]!==void 0||n[a]!==void 0)&&(i[h]=kr(c,l,h,void 0,t,!0)):delete i[h]);if(r!==l)for(const h in r)(!e||!W(e,h))&&(delete r[h],u=!0)}u&&pt(t.attrs,"set","")}function Xc(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(jn(c))continue;const u=e[c];let a;i&&W(i,a=It(c))?!r||!r.includes(a)?n[a]=u:(l||(l={}))[a]=u:Ai(t.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,o=!0)}if(r){const c=K(n),u=l||Z;for(let a=0;a<r.length;a++){const h=r[a];n[h]=kr(i,c,h,u[h],t,!W(u,h))}}return o}function kr(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=W(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&N(c)){const{propsDefaults:u}=i;if(n in u)s=u[n];else{const a=ys(i);s=u[n]=c.call(null,e),a()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===Bt(n))&&(s=!0))}return s}const bf=new WeakMap;function Zc(t,e,n=!1){const s=n?bf:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!N(t)){const a=h=>{c=!0;const[f,p]=Zc(h,e,!0);Se(o,f),p&&l.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}if(!r&&!c)return ie(t)&&s.set(t,un),un;if(L(r))for(let a=0;a<r.length;a++){const h=It(r[a]);el(h)&&(o[h]=Z)}else if(r)for(const a in r){const h=It(a);if(el(h)){const f=r[a],p=o[h]=L(f)||N(f)?{type:f}:Se({},f),m=p.type;let _=!1,v=!0;if(L(m))for(let A=0;A<m.length;++A){const P=m[A],U=N(P)&&P.name;if(U==="Boolean"){_=!0;break}else U==="String"&&(v=!1)}else _=N(m)&&m.name==="Boolean";p[0]=_,p[1]=v,(_||W(p,"default"))&&l.push(h)}}const u=[o,l];return ie(t)&&s.set(t,u),u}function el(t){return t[0]!=="$"&&!jn(t)}const Qc=t=>t[0]==="_"||t==="$stable",ao=t=>L(t)?t.map(Qe):[Qe(t)],_f=(t,e,n)=>{if(e._n)return e;const s=Kh((...i)=>ao(e(...i)),n);return s._c=!1,s},ea=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Qc(i))continue;const r=t[i];if(N(r))e[i]=_f(i,r,s);else if(r!=null){const o=ao(r);e[i]=()=>o}}},ta=(t,e)=>{const n=ao(e);t.slots.default=()=>n},na=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},kf=(t,e,n)=>{const s=t.slots=Yc();if(t.vnode.shapeFlag&32){const i=e._;i?(na(s,e,n),n&&ac(s,"_",i,!0)):ea(e,s)}else e&&ta(t,e)},xf=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Z;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:na(i,e,n):(r=!e.$stable,ea(e,i)),o=e}else e&&(ta(t,e),o={default:1});if(r)for(const l in i)!Qc(l)&&o[l]==null&&delete i[l]};function Sf(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(gs().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Oe=Uf;function Ef(t){return Cf(t)}function Cf(t,e){Sf();const n=gs();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:u,setElementText:a,parentNode:h,nextSibling:f,setScopeId:p=je,insertStaticContent:m}=t,_=(d,g,y,k=null,w=null,b=null,C=void 0,E=null,S=!!g.dynamicChildren)=>{if(d===g)return;d&&!Mn(d,g)&&(k=vs(d),qe(d,w,b,!0),d=null),g.patchFlag===-2&&(S=!1,g.dynamicChildren=null);const{type:x,ref:D,shapeFlag:T}=g;switch(x){case vi:v(d,g,y,k);break;case Jt:A(d,g,y,k);break;case js:d==null&&P(g,y,k,C);break;case Ze:ze(d,g,y,k,w,b,C,E,S);break;default:T&1?V(d,g,y,k,w,b,C,E,S):T&6?St(d,g,y,k,w,b,C,E,S):(T&64||T&128)&&x.process(d,g,y,k,w,b,C,E,S,In)}D!=null&&w&&si(D,d&&d.ref,b,g||d,!g)},v=(d,g,y,k)=>{if(d==null)s(g.el=l(g.children),y,k);else{const w=g.el=d.el;g.children!==d.children&&u(w,g.children)}},A=(d,g,y,k)=>{d==null?s(g.el=c(g.children||""),y,k):g.el=d.el},P=(d,g,y,k)=>{[d.el,d.anchor]=m(d.children,g,y,k,d.el,d.anchor)},U=({el:d,anchor:g},y,k)=>{let w;for(;d&&d!==g;)w=f(d),s(d,y,k),d=w;s(g,y,k)},O=({el:d,anchor:g})=>{let y;for(;d&&d!==g;)y=f(d),i(d),d=y;i(g)},V=(d,g,y,k,w,b,C,E,S)=>{g.type==="svg"?C="svg":g.type==="math"&&(C="mathml"),d==null?ut(g,y,k,w,b,C,E,S):q(d,g,w,b,C,E,S)},ut=(d,g,y,k,w,b,C,E)=>{let S,x;const{props:D,shapeFlag:T,transition:R,dirs:I}=d;if(S=d.el=o(d.type,b,D&&D.is,D),T&8?a(S,d.children):T&16&&j(d.children,S,null,k,w,Yi(d,b),C,E),I&&Vt(d,null,k,"created"),me(S,d,d.scopeId,C,k),D){for(const ee in D)ee!=="value"&&!jn(ee)&&r(S,ee,null,D[ee],b,k);"value"in D&&r(S,"value",null,D.value,b),(x=D.onVnodeBeforeMount)&&Ye(x,k,d)}I&&Vt(d,null,k,"beforeMount");const H=Tf(w,R);H&&R.beforeEnter(S),s(S,g,y),((x=D&&D.onVnodeMounted)||H||I)&&Oe(()=>{x&&Ye(x,k,d),H&&R.enter(S),I&&Vt(d,null,k,"mounted")},w)},me=(d,g,y,k,w)=>{if(y&&p(d,y),k)for(let b=0;b<k.length;b++)p(d,k[b]);if(w){let b=w.subTree;if(g===b||ca(b.type)&&(b.ssContent===g||b.ssFallback===g)){const C=w.vnode;me(d,C,C.scopeId,C.slotScopeIds,w.parent)}}},j=(d,g,y,k,w,b,C,E,S=0)=>{for(let x=S;x<d.length;x++){const D=d[x]=E?Tt(d[x]):Qe(d[x]);_(null,D,g,y,k,w,b,C,E)}},q=(d,g,y,k,w,b,C)=>{const E=g.el=d.el;let{patchFlag:S,dynamicChildren:x,dirs:D}=g;S|=d.patchFlag&16;const T=d.props||Z,R=g.props||Z;let I;if(y&&jt(y,!1),(I=R.onVnodeBeforeUpdate)&&Ye(I,y,g,d),D&&Vt(g,d,y,"beforeUpdate"),y&&jt(y,!0),(T.innerHTML&&R.innerHTML==null||T.textContent&&R.textContent==null)&&a(E,""),x?le(d.dynamicChildren,x,E,y,k,Yi(g,w),b):C||Q(d,g,E,null,y,k,Yi(g,w),b,!1),S>0){if(S&16)Be(E,T,R,y,w);else if(S&2&&T.class!==R.class&&r(E,"class",null,R.class,w),S&4&&r(E,"style",T.style,R.style,w),S&8){const H=g.dynamicProps;for(let ee=0;ee<H.length;ee++){const J=H[ee],ve=T[J],Ee=R[J];(Ee!==ve||J==="value")&&r(E,J,ve,Ee,w,y)}}S&1&&d.children!==g.children&&a(E,g.children)}else!C&&x==null&&Be(E,T,R,y,w);((I=R.onVnodeUpdated)||D)&&Oe(()=>{I&&Ye(I,y,g,d),D&&Vt(g,d,y,"updated")},k)},le=(d,g,y,k,w,b,C)=>{for(let E=0;E<g.length;E++){const S=d[E],x=g[E],D=S.el&&(S.type===Ze||!Mn(S,x)||S.shapeFlag&70)?h(S.el):y;_(S,x,D,null,k,w,b,C,!0)}},Be=(d,g,y,k,w)=>{if(g!==y){if(g!==Z)for(const b in g)!jn(b)&&!(b in y)&&r(d,b,g[b],null,w,k);for(const b in y){if(jn(b))continue;const C=y[b],E=g[b];C!==E&&b!=="value"&&r(d,b,E,C,w,k)}"value"in y&&r(d,"value",g.value,y.value,w)}},ze=(d,g,y,k,w,b,C,E,S)=>{const x=g.el=d?d.el:l(""),D=g.anchor=d?d.anchor:l("");let{patchFlag:T,dynamicChildren:R,slotScopeIds:I}=g;I&&(E=E?E.concat(I):I),d==null?(s(x,y,k),s(D,y,k),j(g.children||[],y,D,w,b,C,E,S)):T>0&&T&64&&R&&d.dynamicChildren?(le(d.dynamicChildren,R,y,w,b,C,E),(g.key!=null||w&&g===w.subTree)&&sa(d,g,!0)):Q(d,g,y,D,w,b,C,E,S)},St=(d,g,y,k,w,b,C,E,S)=>{g.slotScopeIds=E,d==null?g.shapeFlag&512?w.ctx.activate(g,y,k,C,S):On(g,y,k,w,b,C,S):Ts(d,g,S)},On=(d,g,y,k,w,b,C)=>{const E=d.component=Wf(d,k,w);if(Vc(d)&&(E.ctx.renderer=In),Yf(E,!1,C),E.asyncDep){if(w&&w.registerDep(E,re,C),!d.el){const S=E.subTree=mt(Jt);A(null,S,g,y)}}else re(E,d,g,y,w,b,C)},Ts=(d,g,y)=>{const k=g.component=d.component;if(Mf(d,g,y))if(k.asyncDep&&!k.asyncResolved){$(k,g,y);return}else k.next=g,k.update();else g.el=d.el,k.vnode=g},re=(d,g,y,k,w,b,C)=>{const E=()=>{if(d.isMounted){let{next:T,bu:R,u:I,parent:H,vnode:ee}=d;{const We=ia(d);if(We){T&&(T.el=ee.el,$(d,T,C)),We.asyncDep.then(()=>{d.isUnmounted||E()});return}}let J=T,ve;jt(d,!1),T?(T.el=ee.el,$(d,T,C)):T=ee,R&&Vs(R),(ve=T.props&&T.props.onVnodeBeforeUpdate)&&Ye(ve,H,T,ee),jt(d,!0);const Ee=nl(d),Ke=d.subTree;d.subTree=Ee,_(Ke,Ee,h(Ke.el),vs(Ke),d,w,b),T.el=Ee.el,J===null&&Bf(d,Ee.el),I&&Oe(I,w),(ve=T.props&&T.props.onVnodeUpdated)&&Oe(()=>Ye(ve,H,T,ee),w)}else{let T;const{el:R,props:I}=g,{bm:H,m:ee,parent:J,root:ve,type:Ee}=d,Ke=qn(g);jt(d,!1),H&&Vs(H),!Ke&&(T=I&&I.onVnodeBeforeMount)&&Ye(T,J,g),jt(d,!0);{ve.ce&&ve.ce._injectChildStyle(Ee);const We=d.subTree=nl(d);_(null,We,y,k,d,w,b),g.el=We.el}if(ee&&Oe(ee,w),!Ke&&(T=I&&I.onVnodeMounted)){const We=g;Oe(()=>Ye(T,J,We),w)}(g.shapeFlag&256||J&&qn(J.vnode)&&J.vnode.shapeFlag&256)&&d.a&&Oe(d.a,w),d.isMounted=!0,g=y=k=null}};d.scope.on();const S=d.effect=new mc(E);d.scope.off();const x=d.update=S.run.bind(S),D=d.job=S.runIfDirty.bind(S);D.i=d,D.id=d.uid,S.scheduler=()=>oo(D),jt(d,!0),x()},$=(d,g,y)=>{g.component=d;const k=d.vnode.props;d.vnode=g,d.next=null,wf(d,g.props,k,y),xf(d,g.children,y),Ut(),Yo(d),$t()},Q=(d,g,y,k,w,b,C,E,S=!1)=>{const x=d&&d.children,D=d?d.shapeFlag:0,T=g.children,{patchFlag:R,shapeFlag:I}=g;if(R>0){if(R&128){As(x,T,y,k,w,b,C,E,S);return}else if(R&256){Ft(x,T,y,k,w,b,C,E,S);return}}I&8?(D&16&&Dn(x,w,b),T!==x&&a(y,T)):D&16?I&16?As(x,T,y,k,w,b,C,E,S):Dn(x,w,b,!0):(D&8&&a(y,""),I&16&&j(T,y,k,w,b,C,E,S))},Ft=(d,g,y,k,w,b,C,E,S)=>{d=d||un,g=g||un;const x=d.length,D=g.length,T=Math.min(x,D);let R;for(R=0;R<T;R++){const I=g[R]=S?Tt(g[R]):Qe(g[R]);_(d[R],I,y,null,w,b,C,E,S)}x>D?Dn(d,w,b,!0,!1,T):j(g,y,k,w,b,C,E,S,T)},As=(d,g,y,k,w,b,C,E,S)=>{let x=0;const D=g.length;let T=d.length-1,R=D-1;for(;x<=T&&x<=R;){const I=d[x],H=g[x]=S?Tt(g[x]):Qe(g[x]);if(Mn(I,H))_(I,H,y,null,w,b,C,E,S);else break;x++}for(;x<=T&&x<=R;){const I=d[T],H=g[R]=S?Tt(g[R]):Qe(g[R]);if(Mn(I,H))_(I,H,y,null,w,b,C,E,S);else break;T--,R--}if(x>T){if(x<=R){const I=R+1,H=I<D?g[I].el:k;for(;x<=R;)_(null,g[x]=S?Tt(g[x]):Qe(g[x]),y,H,w,b,C,E,S),x++}}else if(x>R)for(;x<=T;)qe(d[x],w,b,!0),x++;else{const I=x,H=x,ee=new Map;for(x=H;x<=R;x++){const Re=g[x]=S?Tt(g[x]):Qe(g[x]);Re.key!=null&&ee.set(Re.key,x)}let J,ve=0;const Ee=R-H+1;let Ke=!1,We=0;const Ln=new Array(Ee);for(x=0;x<Ee;x++)Ln[x]=0;for(x=I;x<=T;x++){const Re=d[x];if(ve>=Ee){qe(Re,w,b,!0);continue}let Je;if(Re.key!=null)Je=ee.get(Re.key);else for(J=H;J<=R;J++)if(Ln[J-H]===0&&Mn(Re,g[J])){Je=J;break}Je===void 0?qe(Re,w,b,!0):(Ln[Je-H]=x+1,Je>=We?We=Je:Ke=!0,_(Re,g[Je],y,null,w,b,C,E,S),ve++)}const zo=Ke?Af(Ln):un;for(J=zo.length-1,x=Ee-1;x>=0;x--){const Re=H+x,Je=g[Re],qo=Re+1<D?g[Re+1].el:k;Ln[x]===0?_(null,Je,y,qo,w,b,C,E,S):Ke&&(J<0||x!==zo[J]?Pt(Je,y,qo,2):J--)}}},Pt=(d,g,y,k,w=null)=>{const{el:b,type:C,transition:E,children:S,shapeFlag:x}=d;if(x&6){Pt(d.component.subTree,g,y,k);return}if(x&128){d.suspense.move(g,y,k);return}if(x&64){C.move(d,g,y,In);return}if(C===Ze){s(b,g,y);for(let T=0;T<S.length;T++)Pt(S[T],g,y,k);s(d.anchor,g,y);return}if(C===js){U(d,g,y);return}if(k!==2&&x&1&&E)if(k===0)E.beforeEnter(b),s(b,g,y),Oe(()=>E.enter(b),w);else{const{leave:T,delayLeave:R,afterLeave:I}=E,H=()=>s(b,g,y),ee=()=>{T(b,()=>{H(),I&&I()})};R?R(b,H,ee):ee()}else s(b,g,y)},qe=(d,g,y,k=!1,w=!1)=>{const{type:b,props:C,ref:E,children:S,dynamicChildren:x,shapeFlag:D,patchFlag:T,dirs:R,cacheIndex:I}=d;if(T===-2&&(w=!1),E!=null&&si(E,null,y,d,!0),I!=null&&(g.renderCache[I]=void 0),D&256){g.ctx.deactivate(d);return}const H=D&1&&R,ee=!qn(d);let J;if(ee&&(J=C&&C.onVnodeBeforeUnmount)&&Ye(J,g,d),D&6)Gu(d.component,y,k);else{if(D&128){d.suspense.unmount(y,k);return}H&&Vt(d,null,g,"beforeUnmount"),D&64?d.type.remove(d,g,y,In,k):x&&!x.hasOnce&&(b!==Ze||T>0&&T&64)?Dn(x,g,y,!1,!0):(b===Ze&&T&384||!w&&D&16)&&Dn(S,g,y),k&&jo(d)}(ee&&(J=C&&C.onVnodeUnmounted)||H)&&Oe(()=>{J&&Ye(J,g,d),H&&Vt(d,null,g,"unmounted")},y)},jo=d=>{const{type:g,el:y,anchor:k,transition:w}=d;if(g===Ze){Yu(y,k);return}if(g===js){O(d);return}const b=()=>{i(y),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:C,delayLeave:E}=w,S=()=>C(y,b);E?E(d.el,b,S):S()}else b()},Yu=(d,g)=>{let y;for(;d!==g;)y=f(d),i(d),d=y;i(g)},Gu=(d,g,y)=>{const{bum:k,scope:w,job:b,subTree:C,um:E,m:S,a:x}=d;tl(S),tl(x),k&&Vs(k),w.stop(),b&&(b.flags|=8,qe(C,d,g,y)),E&&Oe(E,g),Oe(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Dn=(d,g,y,k=!1,w=!1,b=0)=>{for(let C=b;C<d.length;C++)qe(d[C],g,y,k,w)},vs=d=>{if(d.shapeFlag&6)return vs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const g=f(d.anchor||d.el),y=g&&g[Wh];return y?f(y):g};let Vi=!1;const Ho=(d,g,y)=>{d==null?g._vnode&&qe(g._vnode,null,null,!0):_(g._vnode||null,d,g,null,null,null,y),g._vnode=d,Vi||(Vi=!0,Yo(),Uc(),Vi=!1)},In={p:_,um:qe,m:Pt,r:jo,mt:On,mc:j,pc:Q,pbc:le,n:vs,o:t};return{render:Ho,hydrate:void 0,createApp:pf(Ho)}}function Yi({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function jt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Tf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function sa(t,e,n=!1){const s=t.children,i=e.children;if(L(s)&&L(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Tt(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&sa(o,l)),l.type===vi&&(l.el=o.el)}}function Af(t){const e=t.slice(),n=[0];let s,i,r,o,l;const c=t.length;for(s=0;s<c;s++){const u=t[s];if(u!==0){if(i=n[n.length-1],t[i]<u){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<u?r=l+1:o=l;u<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function ia(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ia(e)}function tl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vf=Symbol.for("v-scx"),Rf=()=>Wn(vf);function Jn(t,e,n){return ra(t,e,n)}function ra(t,e,n=Z){const{immediate:s,deep:i,flush:r,once:o}=n,l=Se({},n),c=e&&s||!e&&r!=="post";let u;if(is){if(r==="sync"){const p=Rf();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=je,p.resume=je,p.pause=je,p}}const a=pe;l.call=(p,m,_)=>rt(p,a,m,_);let h=!1;r==="post"?l.scheduler=p=>{Oe(p,a&&a.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(p,m)=>{m?p():oo(p)}),l.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,a&&(p.id=a.uid,p.i=a))};const f=Hh(t,e,l);return is&&(u?u.push(f):c&&f()),f}function Of(t,e,n){const s=this.proxy,i=ae(t)?t.includes(".")?oa(s,t):()=>s[t]:t.bind(s,s);let r;N(e)?r=e:(r=e.handler,n=e);const o=ys(this),l=ra(i,r.bind(s),n);return o(),l}function oa(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Df=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${It(e)}Modifiers`]||t[`${Bt(e)}Modifiers`];function If(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Z;let i=n;const r=e.startsWith("update:"),o=r&&Df(s,e.slice(7));o&&(o.trim&&(i=n.map(a=>ae(a)?a.trim():a)),o.number&&(i=n.map(dr)));let l,c=s[l=Hi(e)]||s[l=Hi(It(e))];!c&&r&&(c=s[l=Hi(Bt(e))]),c&&rt(c,t,6,i);const u=s[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,rt(u,t,6,i)}}function la(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!N(t)){const c=u=>{const a=la(u,e,!0);a&&(l=!0,Se(o,a))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(ie(t)&&s.set(t,null),null):(L(r)?r.forEach(c=>o[c]=null):Se(o,r),ie(t)&&s.set(t,o),o)}function Ai(t,e){return!t||!_i(e)?!1:(e=e.slice(2).replace(/Once$/,""),W(t,e[0].toLowerCase()+e.slice(1))||W(t,Bt(e))||W(t,e))}function nl(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:u,renderCache:a,props:h,data:f,setupState:p,ctx:m,inheritAttrs:_}=t,v=ni(t);let A,P;try{if(n.shapeFlag&4){const O=i||s,V=O;A=Qe(u.call(V,O,a,h,p,f,m)),P=l}else{const O=e;A=Qe(O.length>1?O(h,{attrs:l,slots:o,emit:c}):O(h,null)),P=e.props?l:Lf(l)}}catch(O){Yn.length=0,Ci(O,t,1),A=mt(Jt)}let U=A;if(P&&_!==!1){const O=Object.keys(P),{shapeFlag:V}=U;O.length&&V&7&&(r&&O.some(Wr)&&(P=Nf(P,r)),U=yn(U,P,!1,!0))}return n.dirs&&(U=yn(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&lo(U,n.transition),A=U,ni(v),A}const Lf=t=>{let e;for(const n in t)(n==="class"||n==="style"||_i(n))&&((e||(e={}))[n]=t[n]);return e},Nf=(t,e)=>{const n={};for(const s in t)(!Wr(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Mf(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?sl(s,o,u):!!o;if(c&8){const a=e.dynamicProps;for(let h=0;h<a.length;h++){const f=a[h];if(o[f]!==s[f]&&!Ai(u,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?sl(s,o,u):!0:!!o;return!1}function sl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Ai(n,r))return!0}return!1}function Bf({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const ca=t=>t.__isSuspense;function Uf(t,e){e&&e.pendingBranch?L(t)?e.effects.push(...t):e.effects.push(t):Bc(t)}const Ze=Symbol.for("v-fgt"),vi=Symbol.for("v-txt"),Jt=Symbol.for("v-cmt"),js=Symbol.for("v-stc"),Yn=[];let Ne=null;function $f(t=!1){Yn.push(Ne=t?null:[])}function Ff(){Yn.pop(),Ne=Yn[Yn.length-1]||null}let ss=1;function il(t,e=!1){ss+=t,t<0&&Ne&&e&&(Ne.hasOnce=!0)}function aa(t){return t.dynamicChildren=ss>0?Ne||un:null,Ff(),ss>0&&Ne&&Ne.push(t),t}function cw(t,e,n,s,i,r){return aa(fa(t,e,n,s,i,r,!0))}function Pf(t,e,n,s,i){return aa(mt(t,e,n,s,i,!0))}function ua(t){return t?t.__v_isVNode===!0:!1}function Mn(t,e){return t.type===e.type&&t.key===e.key}const ha=({key:t})=>t??null,Hs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ae(t)||oe(t)||N(t)?{i:Te,r:t,k:e,f:!!n}:t:null);function fa(t,e=null,n=null,s=0,i=null,r=t===Ze?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ha(e),ref:e&&Hs(e),scopeId:Fc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Te};return l?(uo(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=ae(n)?8:16),ss>0&&!o&&Ne&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Ne.push(c),c}const mt=Vf;function Vf(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===of)&&(t=Jt),ua(t)){const l=yn(t,e,!0);return n&&uo(l,n),ss>0&&!r&&Ne&&(l.shapeFlag&6?Ne[Ne.indexOf(t)]=l:Ne.push(l)),l.patchFlag=-2,l}if(Qf(t)&&(t=t.__vccOpts),e){e=jf(e);let{class:l,style:c}=e;l&&!ae(l)&&(e.class=Xr(l)),ie(c)&&(io(c)&&!L(c)&&(c=Se({},c)),e.style=Gr(c))}const o=ae(t)?1:ca(t)?128:Jh(t)?64:ie(t)?4:N(t)?2:0;return fa(t,e,n,s,i,o,r,!0)}function jf(t){return t?io(t)||Gc(t)?Se({},t):t:null}function yn(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=t,u=e?zf(i||{},e):i,a={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ha(u),ref:e&&e.ref?n&&r?L(r)?r.concat(Hs(e)):[r,Hs(e)]:Hs(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yn(t.ssContent),ssFallback:t.ssFallback&&yn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&lo(a,c.clone(a)),a}function Hf(t=" ",e=0){return mt(vi,null,t,e)}function aw(t="",e=!1){return e?($f(),Pf(Jt,null,t)):mt(Jt,null,t)}function Qe(t){return t==null||typeof t=="boolean"?mt(Jt):L(t)?mt(Ze,null,t.slice()):ua(t)?Tt(t):mt(vi,null,String(t))}function Tt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yn(t)}function uo(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(L(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),uo(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Gc(e)?e._ctx=Te:i===3&&Te&&(Te.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else N(e)?(e={default:e,_ctx:Te},n=32):(e=String(e),s&64?(n=16,e=[Hf(e)]):n=8);t.children=e,t.shapeFlag|=n}function zf(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Xr([e.class,s.class]));else if(i==="style")e.style=Gr([e.style,s.style]);else if(_i(i)){const r=e[i],o=s[i];o&&r!==o&&!(L(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ye(t,e,n,s=null){rt(t,e,7,[n,s])}const qf=Wc();let Kf=0;function Wf(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||qf,r={uid:Kf++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zc(s,i),emitsOptions:la(s,i),emit:null,emitted:null,propsDefaults:Z,inheritAttrs:s.inheritAttrs,ctx:Z,data:Z,props:Z,attrs:Z,slots:Z,refs:Z,setupState:Z,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=If.bind(null,r),t.ce&&t.ce(r),r}let pe=null;const Jf=()=>pe||Te;let ri,xr;{const t=gs(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ri=e("__VUE_INSTANCE_SETTERS__",n=>pe=n),xr=e("__VUE_SSR_SETTERS__",n=>is=n)}const ys=t=>{const e=pe;return ri(t),t.scope.on(),()=>{t.scope.off(),ri(e)}},rl=()=>{pe&&pe.scope.off(),ri(null)};function da(t){return t.vnode.shapeFlag&4}let is=!1;function Yf(t,e=!1,n=!1){e&&xr(e);const{props:s,children:i}=t.vnode,r=da(t);yf(t,s,r,e),kf(t,i,n);const o=r?Gf(t,e):void 0;return e&&xr(!1),o}function Gf(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,lf);const{setup:s}=n;if(s){Ut();const i=t.setupContext=s.length>1?Zf(t):null,r=ys(t),o=ms(s,t,0,[t.props,i]),l=rc(o);if($t(),r(),(l||t.sp)&&!qn(t)&&Pc(t),l){if(o.then(rl,rl),e)return o.then(c=>{ol(t,c)}).catch(c=>{Ci(c,t,0)});t.asyncDep=o}else ol(t,o)}else pa(t)}function ol(t,e,n){N(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ie(e)&&(t.setupState=Ic(e)),pa(t)}function pa(t,e,n){const s=t.type;t.render||(t.render=s.render||je);{const i=ys(t);Ut();try{cf(t)}finally{$t(),i()}}}const Xf={get(t,e){return ye(t,"get",""),t[e]}};function Zf(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Xf),slots:t.slots,emit:t.emit,expose:e}}function Ri(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ic(ro(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Kn)return Kn[n](t)},has(e,n){return n in e||n in Kn}})):t.proxy}function Qf(t){return N(t)&&"__vccOpts"in t}const ga=(t,e)=>Vh(t,e,is),ed="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sr;const ll=typeof window<"u"&&window.trustedTypes;if(ll)try{Sr=ll.createPolicy("vue",{createHTML:t=>t})}catch{}const ma=Sr?t=>Sr.createHTML(t):t=>t,td="http://www.w3.org/2000/svg",nd="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,cl=dt&&dt.createElement("template"),sd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?dt.createElementNS(td,t):e==="mathml"?dt.createElementNS(nd,t):n?dt.createElement(t,{is:n}):dt.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{cl.innerHTML=ma(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=cl.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},id=Symbol("_vtc");function rd(t,e,n){const s=t[id];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const al=Symbol("_vod"),od=Symbol("_vsh"),ya=Symbol("");function uw(t){const e=Jf();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>oi(r,i))},s=()=>{const i=t(e.proxy);e.ce?oi(e.ce,i):Er(e.subTree,i),n(i)};zc(()=>{Bc(s)}),Hc(()=>{Jn(s,je,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),co(()=>i.disconnect())})}function Er(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Er(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)oi(t.el,e);else if(t.type===Ze)t.children.forEach(n=>Er(n,e));else if(t.type===js){let{el:n,anchor:s}=t;for(;n&&(oi(n,e),n!==s);)n=n.nextSibling}}function oi(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e)n.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;n[ya]=s}}const ld=/(^|;)\s*display\s*:/;function cd(t,e,n){const s=t.style,i=ae(n);let r=!1;if(n&&!i){if(e)if(ae(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&zs(s,l,"")}else for(const o in e)n[o]==null&&zs(s,o,"");for(const o in n)o==="display"&&(r=!0),zs(s,o,n[o])}else if(i){if(e!==n){const o=s[ya];o&&(n+=";"+o),s.cssText=n,r=ld.test(n)}}else e&&t.removeAttribute("style");al in t&&(t[al]=r?s.display:"",t[od]&&(s.display="none"))}const ul=/\s*!important$/;function zs(t,e,n){if(L(n))n.forEach(s=>zs(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=ad(t,e);ul.test(n)?t.setProperty(Bt(s),n.replace(ul,""),"important"):t[s]=n}}const hl=["Webkit","Moz","ms"],Gi={};function ad(t,e){const n=Gi[e];if(n)return n;let s=It(e);if(s!=="filter"&&s in t)return Gi[e]=s;s=cc(s);for(let i=0;i<hl.length;i++){const r=hl[i]+s;if(r in t)return Gi[e]=r}return e}const fl="http://www.w3.org/1999/xlink";function dl(t,e,n,s,i,r=uh(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(fl,e.slice(6,e.length)):t.setAttributeNS(fl,e,n):n==null||r&&!uc(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Mt(n)?String(n):n)}function pl(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ma(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=uc(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function cn(t,e,n,s){t.addEventListener(e,n,s)}function ud(t,e,n,s){t.removeEventListener(e,n,s)}const gl=Symbol("_vei");function hd(t,e,n,s,i=null){const r=t[gl]||(t[gl]={}),o=r[e];if(s&&o)o.value=s;else{const[l,c]=fd(e);if(s){const u=r[e]=gd(s,i);cn(t,l,u,c)}else o&&(ud(t,l,o,c),r[e]=void 0)}}const ml=/(?:Once|Passive|Capture)$/;function fd(t){let e;if(ml.test(t)){e={};let s;for(;s=t.match(ml);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Bt(t.slice(2)),e]}let Xi=0;const dd=Promise.resolve(),pd=()=>Xi||(dd.then(()=>Xi=0),Xi=Date.now());function gd(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;rt(md(s,n.value),e,5,[s])};return n.value=t,n.attached=pd(),n}function md(t,e){if(L(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const yl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yd=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?rd(t,s,o):e==="style"?cd(t,n,s):_i(e)?Wr(e)||hd(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wd(t,e,s,o))?(pl(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&dl(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ae(s))?pl(t,It(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),dl(t,e,s,o))};function wd(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&yl(e)&&N(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return yl(e)&&ae(n)?!1:e in t}const wl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return L(e)?n=>Vs(e,n):e};function bd(t){t.target.composing=!0}function bl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Zi=Symbol("_assign"),hw={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Zi]=wl(i);const r=s||i.props&&i.props.type==="number";cn(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=dr(l)),t[Zi](l)}),n&&cn(t,"change",()=>{t.value=t.value.trim()}),e||(cn(t,"compositionstart",bd),cn(t,"compositionend",bl),cn(t,"change",bl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[Zi]=wl(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?dr(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},_d=["ctrl","shift","alt","meta"],kd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_d.some(n=>t[`${n}Key`]&&!e.includes(n))},fw=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=kd[e[o]];if(l&&l(i,e))return}return t(i,...r)})},xd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dw=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Bt(i.key);if(e.some(o=>o===r||xd[o]===r))return t(i)})},Sd=Se({patchProp:yd},sd);let _l;function Ed(){return _l||(_l=Ef(Sd))}const pw=(...t)=>{const e=Ed().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Td(s);if(!i)return;const r=e._component;!N(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Cd(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Cd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Td(t){return ae(t)?document.querySelector(t):t}/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let wa;const Oi=t=>wa=t,ba=Symbol();function Cr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Gn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Gn||(Gn={}));function gw(){const t=pc(!0),e=t.run(()=>Dc({}));let n=[],s=[];const i=ro({install(r){Oi(i),i._a=r,r.provide(ba,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const _a=()=>{};function kl(t,e,n,s=_a){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&gc()&&fh(i),i}function on(t,...e){t.slice().forEach(n=>{n(...e)})}const Ad=t=>t(),xl=Symbol(),Qi=Symbol();function Tr(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Cr(i)&&Cr(s)&&t.hasOwnProperty(n)&&!oe(s)&&!Ot(s)?t[n]=Tr(i,s):t[n]=s}return t}const vd=Symbol();function Rd(t){return!Cr(t)||!t.hasOwnProperty(vd)}const{assign:Et}=Object;function Od(t){return!!(oe(t)&&t.effect)}function Dd(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let c;function u(){l||(n.state.value[t]=i?i():{});const a=Uh(n.state.value[t]);return Et(a,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=ro(ga(()=>{Oi(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return c=ka(t,u,e,n,s,!0),c}function ka(t,e,n={},s,i,r){let o;const l=Et({actions:{}},n),c={deep:!0};let u,a,h=[],f=[],p;const m=s.state.value[t];!r&&!m&&(s.state.value[t]={}),Dc({});let _;function v(j){let q;u=a=!1,typeof j=="function"?(j(s.state.value[t]),q={type:Gn.patchFunction,storeId:t,events:p}):(Tr(s.state.value[t],j),q={type:Gn.patchObject,payload:j,storeId:t,events:p});const le=_=Symbol();Nc().then(()=>{_===le&&(u=!0)}),a=!0,on(h,q,s.state.value[t])}const A=r?function(){const{state:q}=n,le=q?q():{};this.$patch(Be=>{Et(Be,le)})}:_a;function P(){o.stop(),h=[],f=[],s._s.delete(t)}const U=(j,q="")=>{if(xl in j)return j[Qi]=q,j;const le=function(){Oi(s);const Be=Array.from(arguments),ze=[],St=[];function On($){ze.push($)}function Ts($){St.push($)}on(f,{args:Be,name:le[Qi],store:V,after:On,onError:Ts});let re;try{re=j.apply(this&&this.$id===t?this:V,Be)}catch($){throw on(St,$),$}return re instanceof Promise?re.then($=>(on(ze,$),$)).catch($=>(on(St,$),Promise.reject($))):(on(ze,re),re)};return le[xl]=!0,le[Qi]=q,le},O={_p:s,$id:t,$onAction:kl.bind(null,f),$patch:v,$reset:A,$subscribe(j,q={}){const le=kl(h,j,q.detached,()=>Be()),Be=o.run(()=>Jn(()=>s.state.value[t],ze=>{(q.flush==="sync"?a:u)&&j({storeId:t,type:Gn.direct,events:p},ze)},Et({},c,q)));return le},$dispose:P},V=Ei(O);s._s.set(t,V);const me=(s._a&&s._a.runWithContext||Ad)(()=>s._e.run(()=>(o=pc()).run(()=>e({action:U}))));for(const j in me){const q=me[j];if(oe(q)&&!Od(q)||Ot(q))r||(m&&Rd(q)&&(oe(q)?q.value=m[j]:Tr(q,m[j])),s.state.value[t][j]=q);else if(typeof q=="function"){const le=U(q,j);me[j]=le,l.actions[j]=q}}return Et(V,me),Et(K(V),me),Object.defineProperty(V,"$state",{get:()=>s.state.value[t],set:j=>{v(q=>{Et(q,j)})}}),s._p.forEach(j=>{Et(V,o.run(()=>j({store:V,app:s._a,pinia:s,options:l})))}),m&&r&&n.hydrate&&n.hydrate(V.$state,m),u=!0,a=!0,V}/*! #__NO_SIDE_EFFECTS__ */function mw(t,e,n){let s,i;const r=typeof e=="function";s=t,i=r?n:e;function o(l,c){const u=mf();return l=l||(u?Wn(ba,null):null),l&&Oi(l),l=wa,l._s.has(s)||(r?ka(s,e,i,l):Dd(s,i,l)),l._s.get(s)}return o.$id=s,o}let Ls;const Id=new Uint8Array(16);function Ld(){if(!Ls&&(Ls=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ls))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ls(Id)}const de=[];for(let t=0;t<256;++t)de.push((t+256).toString(16).slice(1));function Nd(t,e=0){return de[t[e+0]]+de[t[e+1]]+de[t[e+2]]+de[t[e+3]]+"-"+de[t[e+4]]+de[t[e+5]]+"-"+de[t[e+6]]+de[t[e+7]]+"-"+de[t[e+8]]+de[t[e+9]]+"-"+de[t[e+10]]+de[t[e+11]]+de[t[e+12]]+de[t[e+13]]+de[t[e+14]]+de[t[e+15]]}const Md=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sl={randomUUID:Md};function yw(t,e,n){if(Sl.randomUUID&&!t)return Sl.randomUUID();t=t||{};const s=t.random||(t.rng||Ld)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Nd(s)}const ot=Object.create(null);ot.open="0";ot.close="1";ot.ping="2";ot.pong="3";ot.message="4";ot.upgrade="5";ot.noop="6";const qs=Object.create(null);Object.keys(ot).forEach(t=>{qs[ot[t]]=t});const Ar={type:"error",data:"parser error"},xa=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Sa=typeof ArrayBuffer=="function",Ea=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ho=({type:t,data:e},n,s)=>xa&&e instanceof Blob?n?s(e):El(e,s):Sa&&(e instanceof ArrayBuffer||Ea(e))?n?s(e):El(new Blob([e]),s):s(ot[t]+(e||"")),El=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Cl(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let er;function Bd(t,e){if(xa&&t.data instanceof Blob)return t.data.arrayBuffer().then(Cl).then(e);if(Sa&&(t.data instanceof ArrayBuffer||Ea(t.data)))return e(Cl(t.data));ho(t,!1,n=>{er||(er=new TextEncoder),e(er.encode(n))})}const Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Tl.length;t++)Pn[Tl.charCodeAt(t)]=t;const Ud=t=>{let e=t.length*.75,n=t.length,s,i=0,r,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),a=new Uint8Array(u);for(s=0;s<n;s+=4)r=Pn[t.charCodeAt(s)],o=Pn[t.charCodeAt(s+1)],l=Pn[t.charCodeAt(s+2)],c=Pn[t.charCodeAt(s+3)],a[i++]=r<<2|o>>4,a[i++]=(o&15)<<4|l>>2,a[i++]=(l&3)<<6|c&63;return u},$d=typeof ArrayBuffer=="function",fo=(t,e)=>{if(typeof t!="string")return{type:"message",data:Ca(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Fd(t.substring(1),e)}:qs[n]?t.length>1?{type:qs[n],data:t.substring(1)}:{type:qs[n]}:Ar},Fd=(t,e)=>{if($d){const n=Ud(t);return Ca(n,e)}else return{base64:!0,data:t}},Ca=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ta="",Pd=(t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach((r,o)=>{ho(r,!1,l=>{s[o]=l,++i===n&&e(s.join(Ta))})})},Vd=(t,e)=>{const n=t.split(Ta),s=[];for(let i=0;i<n.length;i++){const r=fo(n[i],e);if(s.push(r),r.type==="error")break}return s};function jd(){return new TransformStream({transform(t,e){Bd(t,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let tr;function Ns(t){return t.reduce((e,n)=>e+n.length,0)}function Ms(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function Hd(t,e){tr||(tr=new TextDecoder);const n=[];let s=0,i=-1,r=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(s===0){if(Ns(n)<1)break;const c=Ms(n,1);r=(c[0]&128)===128,i=c[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Ns(n)<2)break;const c=Ms(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Ns(n)<8)break;const c=Ms(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),a=u.getUint32(0);if(a>Math.pow(2,21)-1){l.enqueue(Ar);break}i=a*Math.pow(2,32)+u.getUint32(4),s=3}else{if(Ns(n)<i)break;const c=Ms(n,i);l.enqueue(fo(r?c:tr.decode(c),e)),s=0}if(i===0||i>t){l.enqueue(Ar);break}}}})}const Aa=4;function ce(t){if(t)return zd(t)}function zd(t){for(var e in ce.prototype)t[e]=ce.prototype[e];return t}ce.prototype.on=ce.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ce.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ce.prototype.off=ce.prototype.removeListener=ce.prototype.removeAllListeners=ce.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===e||s.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ce.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,e)}return this};ce.prototype.emitReserved=ce.prototype.emit;ce.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ce.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Di=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ue=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),qd="arraybuffer";function va(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const Kd=Ue.setTimeout,Wd=Ue.clearTimeout;function Ii(t,e){e.useNativeTimers?(t.setTimeoutFn=Kd.bind(Ue),t.clearTimeoutFn=Wd.bind(Ue)):(t.setTimeoutFn=Ue.setTimeout.bind(Ue),t.clearTimeoutFn=Ue.clearTimeout.bind(Ue))}const Jd=1.33;function Yd(t){return typeof t=="string"?Gd(t):Math.ceil((t.byteLength||t.size)*Jd)}function Gd(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function Ra(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xd(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Zd(t){let e={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let r=n[s].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class Qd extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class po extends ce{constructor(e){super(),this.writable=!1,Ii(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new Qd(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=fo(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Xd(e);return n.length?"?"+n:""}}class ep extends po{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Vd(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Pd(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Ra()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let Oa=!1;try{Oa=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const tp=Oa;function np(){}class sp extends ep{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class st extends ce{constructor(e,n,s){super(),this.createRequest=e,Ii(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=va(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=st.requestsCount++,st.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=np,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete st.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}st.requestsCount=0;st.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Al);else if(typeof addEventListener=="function"){const t="onpagehide"in Ue?"pagehide":"unload";addEventListener(t,Al,!1)}}function Al(){for(let t in st.requests)st.requests.hasOwnProperty(t)&&st.requests[t].abort()}const ip=function(){const t=Da({xdomain:!1});return t&&t.responseType!==null}();class rp extends sp{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=ip&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new st(Da,this.uri(),e)}}function Da(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||tp))return new XMLHttpRequest}catch{}if(!e)try{return new Ue[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ia=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class op extends po{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=Ia?{}:va(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;ho(s,this.supportsBinary,r=>{try{this.doWrite(s,r)}catch{}i&&Di(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Ra()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const nr=Ue.WebSocket||Ue.MozWebSocket;class lp extends op{createSocket(e,n,s){return Ia?new nr(e,n,s):n?new nr(e,n):new nr(e)}doWrite(e,n){this.ws.send(n)}}class cp extends po{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Hd(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),i=jd();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const r=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;this._writer.write(s).then(()=>{i&&Di(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const ap={websocket:lp,webtransport:cp,polling:rp},up=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vr(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=up.exec(t||""),r={},o=14;for(;o--;)r[hp[o]]=i[o]||"";return n!=-1&&s!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=fp(r,r.path),r.queryKey=dp(r,r.query),r}function fp(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function dp(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,r){i&&(n[i]=r)}),n}const Rr=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ks=[];Rr&&addEventListener("offline",()=>{Ks.forEach(t=>t())},!1);class Dt extends ce{constructor(e,n){if(super(),this.binaryType=qd,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=vr(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=vr(n.host).host);Ii(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Zd(this.opts.query)),Rr&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ks.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Aa,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Dt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Dt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=Yd(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Di(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:e,data:n,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Dt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Rr&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Ks.indexOf(this._offlineEventListener);s!==-1&&Ks.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Dt.protocol=Aa;class pp extends Dt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Dt.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Dt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(a(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function r(){s||(s=!0,a(),n.close(),n=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=n.name,r(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&r()}const a=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let gp=class extends pp{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>ap[i]).filter(i=>!!i)),super(e,s)}};function mp(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=vr(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+e,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}const yp=typeof ArrayBuffer=="function",wp=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,La=Object.prototype.toString,bp=typeof Blob=="function"||typeof Blob<"u"&&La.call(Blob)==="[object BlobConstructor]",_p=typeof File=="function"||typeof File<"u"&&La.call(File)==="[object FileConstructor]";function go(t){return yp&&(t instanceof ArrayBuffer||wp(t))||bp&&t instanceof Blob||_p&&t instanceof File}function Ws(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Ws(t[n]))return!0;return!1}if(go(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ws(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ws(t[n]))return!0;return!1}function kp(t){const e=[],n=t.data,s=t;return s.data=Or(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Or(t,e){if(!t)return t;if(go(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Or(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Or(t[s],e));return n}return t}function xp(t,e){return t.data=Dr(t.data,e),delete t.attachments,t}function Dr(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Dr(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Dr(t[n],e));return t}const Sp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ep=5;var F;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(F||(F={}));let Cp=class{constructor(e){this.replacer=e}encode(e){return(e.type===F.EVENT||e.type===F.ACK)&&Ws(e)?this.encodeAsBinary({type:e.type===F.EVENT?F.BINARY_EVENT:F.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===F.BINARY_EVENT||e.type===F.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=kp(e),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}};function vl(t){return Object.prototype.toString.call(t)==="[object Object]"}let Tp=class Na extends ce{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===F.BINARY_EVENT;s||n.type===F.BINARY_ACK?(n.type=s?F.EVENT:F.ACK,this.reconstructor=new Ap(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(go(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(F[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===F.BINARY_EVENT||s.type===F.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(r,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(r,n)}else s.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const r=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}s.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(Na.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case F.CONNECT:return vl(n);case F.DISCONNECT:return n===void 0;case F.CONNECT_ERROR:return typeof n=="string"||vl(n);case F.EVENT:case F.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Sp.indexOf(n[0])===-1);case F.ACK:case F.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class Ap{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=xp(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const vp=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Tp,Encoder:Cp,get PacketType(){return F},protocol:Ep},Symbol.toStringTag,{value:"Module"}));function Ve(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Rp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ma extends ce{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ve(e,"open",this.onopen.bind(this)),Ve(e,"packet",this.onpacket.bind(this)),Ve(e,"error",this.onerror.bind(this)),Ve(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,i,r;if(Rp.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:F.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,h=n.pop();this._registerAckCallback(a,h),o.id=a}const l=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(r),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((s,i)=>{const r=(o,l)=>o?i(o):s(l);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...r)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:F.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case F.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case F.EVENT:case F.BINARY_EVENT:this.onevent(e);break;case F.ACK:case F.BINARY_ACK:this.onack(e);break;case F.DISCONNECT:this.ondisconnect();break;case F.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:F.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:F.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function Cn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Cn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Cn.prototype.reset=function(){this.attempts=0};Cn.prototype.setMin=function(t){this.ms=t};Cn.prototype.setMax=function(t){this.max=t};Cn.prototype.setJitter=function(t){this.jitter=t};class Ir extends ce{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ii(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Cn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||vp;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new gp(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Ve(n,"open",function(){s.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Ve(n,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ve(e,"ping",this.onping.bind(this)),Ve(e,"data",this.ondata.bind(this)),Ve(e,"error",this.onerror.bind(this)),Ve(e,"close",this.onclose.bind(this)),Ve(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Di(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Ma(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Bn={};function sr(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=mp(t,e.path||"/socket.io"),s=n.source,i=n.id,r=n.path,o=Bn[i]&&r in Bn[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new Ir(s,e):(Bn[i]||(Bn[i]=new Ir(s,e)),c=Bn[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(sr,{Manager:Ir,Socket:Ma,io:sr,connect:sr});const Ae=()=>new Map,Lr=t=>{const e=Ae();return t.forEach((n,s)=>{e.set(s,n)}),e},_t=(t,e,n)=>{let s=t.get(e);return s===void 0&&t.set(e,s=n()),s},Op=(t,e)=>{const n=[];for(const[s,i]of t)n.push(e(i,s));return n},Dp=(t,e)=>{for(const[n,s]of t)if(e(s,n))return!0;return!1},Yt=()=>new Set,ir=t=>t[t.length-1],Ip=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},Lt=Array.from,Lp=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},Nr=Array.isArray;class Ba{constructor(){this._observers=Ae()}on(e,n){return _t(this._observers,e,Yt).add(n),n}once(e,n){const s=(...i)=>{this.off(e,s),n(...i)};this.on(e,s)}off(e,n){const s=this._observers.get(e);s!==void 0&&(s.delete(n),s.size===0&&this._observers.delete(e))}emit(e,n){return Lt((this._observers.get(e)||Ae()).values()).forEach(s=>s(...n))}destroy(){this._observers=Ae()}}class Np{constructor(){this._observers=Ae()}on(e,n){_t(this._observers,e,Yt).add(n)}once(e,n){const s=(...i)=>{this.off(e,s),n(...i)};this.on(e,s)}off(e,n){const s=this._observers.get(e);s!==void 0&&(s.delete(n),s.size===0&&this._observers.delete(e))}emit(e,n){return Lt((this._observers.get(e)||Ae()).values()).forEach(s=>s(...n))}destroy(){this._observers=Ae()}}const Nt=Math.floor,Js=Math.abs,Ua=(t,e)=>t<e?t:e,en=(t,e)=>t>e?t:e,$a=t=>t!==0?t<0:1/t<0,Rl=1,Ol=2,rr=4,or=8,rs=32,yt=64,Me=128,Li=31,Mr=63,Kt=127,Mp=2147483647,Fa=Number.MAX_SAFE_INTEGER,Bp=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Nt(t)===t),Up=t=>t.toLowerCase(),$p=/^\s*/g,Fp=t=>t.replace($p,""),Pp=/([A-Z])/g,Dl=(t,e)=>Fp(t.replace(Pp,n=>`${e}${Up(n)}`)),Vp=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,s=new Uint8Array(n);for(let i=0;i<n;i++)s[i]=e.codePointAt(i);return s},os=typeof TextEncoder<"u"?new TextEncoder:null,jp=t=>os.encode(t),Hp=os?jp:Vp;let Xn=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Xn&&Xn.decode(new Uint8Array).length===1&&(Xn=null);class ws{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Ni=()=>new ws,zp=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},et=t=>{const e=new Uint8Array(zp(t));let n=0;for(let s=0;s<t.bufs.length;s++){const i=t.bufs[s];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},qp=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(en(n,e)*2),t.cpos=0)},fe=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},Br=fe,z=(t,e)=>{for(;e>Kt;)fe(t,Me|Kt&e),e=Nt(e/128);fe(t,Kt&e)},mo=(t,e)=>{const n=$a(e);for(n&&(e=-e),fe(t,(e>Mr?Me:0)|(n?yt:0)|Mr&e),e=Nt(e/64);e>0;)fe(t,(e>Kt?Me:0)|Kt&e),e=Nt(e/128)},Ur=new Uint8Array(3e4),Kp=Ur.length/3,Wp=(t,e)=>{if(e.length<Kp){const n=os.encodeInto(e,Ur).written||0;z(t,n);for(let s=0;s<n;s++)fe(t,Ur[s])}else De(t,Hp(e))},Jp=(t,e)=>{const n=unescape(encodeURIComponent(e)),s=n.length;z(t,s);for(let i=0;i<s;i++)fe(t,n.codePointAt(i))},dn=os&&os.encodeInto?Wp:Jp,Mi=(t,e)=>{const n=t.cbuf.length,s=t.cpos,i=Ua(n-s,e.length),r=e.length-i;t.cbuf.set(e.subarray(0,i),s),t.cpos+=i,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(en(n*2,r)),t.cbuf.set(e.subarray(i)),t.cpos=r)},De=(t,e)=>{z(t,e.byteLength),Mi(t,e)},yo=(t,e)=>{qp(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},Yp=(t,e)=>yo(t,4).setFloat32(0,e,!1),Gp=(t,e)=>yo(t,8).setFloat64(0,e,!1),Xp=(t,e)=>yo(t,8).setBigInt64(0,e,!1),Il=new DataView(new ArrayBuffer(4)),Zp=t=>(Il.setFloat32(0,t),Il.getFloat32(0)===t),ls=(t,e)=>{switch(typeof e){case"string":fe(t,119),dn(t,e);break;case"number":Bp(e)&&Js(e)<=Mp?(fe(t,125),mo(t,e)):Zp(e)?(fe(t,124),Yp(t,e)):(fe(t,123),Gp(t,e));break;case"bigint":fe(t,122),Xp(t,e);break;case"object":if(e===null)fe(t,126);else if(Nr(e)){fe(t,117),z(t,e.length);for(let n=0;n<e.length;n++)ls(t,e[n])}else if(e instanceof Uint8Array)fe(t,116),De(t,e);else{fe(t,118);const n=Object.keys(e);z(t,n.length);for(let s=0;s<n.length;s++){const i=n[s];dn(t,i),ls(t,e[i])}}break;case"boolean":fe(t,e?120:121);break;default:fe(t,127)}};class Ll extends ws{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&z(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Nl=t=>{t.count>0&&(mo(t.encoder,t.count===1?t.s:-t.s),t.count>1&&z(t.encoder,t.count-2))};class Ys{constructor(){this.encoder=new ws,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Nl(this),this.count=1,this.s=e)}toUint8Array(){return Nl(this),et(this.encoder)}}const Ml=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);mo(t.encoder,e),t.count>1&&z(t.encoder,t.count-2)}};class lr{constructor(){this.encoder=new ws,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Ml(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Ml(this),et(this.encoder)}}class Qp{constructor(){this.sarr=[],this.s="",this.lensE=new Ys}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new ws;return this.sarr.push(this.s),this.s="",dn(e,this.sarr.join("")),Mi(e,this.lensE.toUint8Array()),et(e)}}const wt=t=>new Error(t),it=()=>{throw wt("Method unimplemented")},lt=()=>{throw wt("Unexpected case")},Pa=wt("Unexpected end of array"),Va=wt("Integer out of Range");class Bi{constructor(e){this.arr=e,this.pos=0}}const Tn=t=>new Bi(t),eg=t=>t.pos!==t.arr.length,tg=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Ie=t=>tg(t,M(t)),wn=t=>t.arr[t.pos++],M=t=>{let e=0,n=1;const s=t.arr.length;for(;t.pos<s;){const i=t.arr[t.pos++];if(e=e+(i&Kt)*n,n*=128,i<Me)return e;if(e>Fa)throw Va}throw Pa},wo=t=>{let e=t.arr[t.pos++],n=e&Mr,s=64;const i=(e&yt)>0?-1:1;if(!(e&Me))return i*n;const r=t.arr.length;for(;t.pos<r;){if(e=t.arr[t.pos++],n=n+(e&Kt)*s,s*=128,e<Me)return i*n;if(n>Fa)throw Va}throw Pa},ng=t=>{let e=M(t);if(e===0)return"";{let n=String.fromCodePoint(wn(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(wn(t));else for(;e>0;){const s=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+s);t.pos+=s,n+=String.fromCodePoint.apply(null,i),e-=s}return decodeURIComponent(escape(n))}},sg=t=>Xn.decode(Ie(t)),pn=Xn?sg:ng,bo=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},ig=t=>bo(t,4).getFloat32(0,!1),rg=t=>bo(t,8).getFloat64(0,!1),og=t=>bo(t,8).getBigInt64(0,!1),lg=[t=>{},t=>null,wo,ig,rg,og,t=>!1,t=>!0,pn,t=>{const e=M(t),n={};for(let s=0;s<e;s++){const i=pn(t);n[i]=cs(t)}return n},t=>{const e=M(t),n=[];for(let s=0;s<e;s++)n.push(cs(t));return n},Ie],cs=t=>lg[127-wn(t)](t);class Bl extends Bi{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),eg(this)?this.count=M(this)+1:this.count=-1),this.count--,this.s}}class Gs extends Bi{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=wo(this);const e=$a(this.s);this.count=1,e&&(this.s=-this.s,this.count=M(this)+2)}return this.count--,this.s}}class cr extends Bi{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=wo(this),n=e&1;this.diff=Nt(e/2),this.count=1,n&&(this.count=M(this)+2)}return this.s+=this.diff,this.count--,this.s}}class cg{constructor(e){this.decoder=new Gs(e),this.str=pn(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const ag=crypto.getRandomValues.bind(crypto),ja=()=>ag(new Uint32Array(1))[0],ug="10000000-1000-4000-8000"+-1e11,hg=()=>ug.replace(/[018]/g,t=>(t^ja()&15>>t/4).toString(16)),fg=Date.now,bn=t=>new Promise(t);Promise.all.bind(Promise);const Ul=t=>t===void 0?null:t;class dg{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let Ha=new dg,pg=!0;try{typeof localStorage<"u"&&localStorage&&(Ha=localStorage,pg=!1)}catch{}const gg=Ha,mg=Object.assign,yg=Object.keys,wg=(t,e)=>{for(const n in t)e(t[n],n)},$l=t=>yg(t).length,bg=t=>{for(const e in t)return!1;return!0},_g=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},kg=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),xg=(t,e)=>t===e||$l(t)===$l(e)&&_g(t,(n,s)=>(n!==void 0||kg(e,s))&&e[s]===n),Sg=Object.freeze,za=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&za(t[e])}return Sg(t)},_o=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&_o(t,e,n+1)}},Eg=t=>t,Cg=(t,e)=>e.includes(t);var qa={};const as=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Ge;const Tg=()=>{if(Ge===void 0)if(as){Ge=Ae();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const s=t[n];s[0]==="-"?(e!==null&&Ge.set(e,""),e=s):e!==null&&(Ge.set(e,s),e=null)}e!==null&&Ge.set(e,"")}else typeof location=="object"?(Ge=Ae(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Ge.set(`--${Dl(e,"-")}`,n),Ge.set(`-${Dl(e,"-")}`,n)}})):Ge=Ae();return Ge},$r=t=>Tg().has(t),li=t=>Ul(as?qa[t.toUpperCase().replaceAll("-","_")]:gg.getItem(t)),Ka=t=>$r("--"+t)||li(t)!==null;Ka("production");const Ag=as&&Cg(qa.FORCE_COLOR,["true","1","2"]),vg=Ag||!$r("--no-colors")&&!Ka("no-color")&&(!as||process.stdout.isTTY)&&(!as||$r("--color")||li("COLORTERM")!==null||(li("TERM")||"").includes("color")),Rg=t=>new Uint8Array(t),Og=t=>{const e=Rg(t.byteLength);return e.set(t),e};class Dg{constructor(e,n){this.left=e,this.right=n}}const ft=(t,e)=>new Dg(t,e);typeof DOMParser<"u"&&new DOMParser;const Ig=t=>Op(t,(e,n)=>`${n}:${e};`).join(""),kt=Symbol,Wa=kt(),Ja=kt(),Lg=kt(),Ng=kt(),Mg=kt(),Ya=kt(),Bg=kt(),ko=kt(),Ug=kt(),$g=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let s=0;for(;s<t.length;s++){const r=t[s];if(r===void 0)break;if(r.constructor===String||r.constructor===Number)e.push(r);else if(r.constructor===Object)break}for(s>0&&n.push(e.join(""));s<t.length;s++){const r=t[s];r instanceof Symbol||n.push(r)}return n},Fg={[Wa]:ft("font-weight","bold"),[Ja]:ft("font-weight","normal"),[Lg]:ft("color","blue"),[Mg]:ft("color","green"),[Ng]:ft("color","grey"),[Ya]:ft("color","red"),[Bg]:ft("color","purple"),[ko]:ft("color","orange"),[Ug]:ft("color","black")},Pg=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[],n=[],s=Ae();let i=[],r=0;for(;r<t.length;r++){const l=t[r],c=Fg[l];if(c!==void 0)s.set(c.left,c.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const u=Ig(s);r>0||u.length>0?(e.push("%c"+l),n.push(u)):e.push(l)}else break}}for(r>0&&(i=n,i.unshift(e.join("")));r<t.length;r++){const l=t[r];l instanceof Symbol||i.push(l)}return i},Ga=vg?Pg:$g,Vg=(...t)=>{console.log(...Ga(t)),Za.forEach(e=>e.print(t))},Xa=(...t)=>{console.warn(...Ga(t)),t.unshift(ko),Za.forEach(e=>e.print(t))},Za=Yt(),Qa=t=>({[Symbol.iterator](){return this},next:t}),jg=(t,e)=>Qa(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),ar=(t,e)=>Qa(()=>{const{done:n,value:s}=t.next();return{done:n,value:n?void 0:e(s)}});class xo{constructor(e,n){this.clock=e,this.len=n}}class An{constructor(){this.clients=new Map}}const _n=(t,e,n)=>e.clients.forEach((s,i)=>{const r=t.doc.store.clients.get(i);for(let o=0;o<s.length;o++){const l=s[o];au(t,r,l.clock,l.len,n)}}),Hg=(t,e)=>{let n=0,s=t.length-1;for(;n<=s;){const i=Nt((n+s)/2),r=t[i],o=r.clock;if(o<=e){if(e<o+r.len)return i;n=i+1}else s=i-1}return null},bs=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&Hg(n,e.clock)!==null},So=t=>{t.clients.forEach(e=>{e.sort((i,r)=>i.clock-r.clock);let n,s;for(n=1,s=1;n<e.length;n++){const i=e[s-1],r=e[n];i.clock+i.len>=r.clock?i.len=en(i.len,r.clock+r.len-i.clock):(s<n&&(e[s]=r),s++)}e.length=s})},Fr=t=>{const e=new An;for(let n=0;n<t.length;n++)t[n].clients.forEach((s,i)=>{if(!e.clients.has(i)){const r=s.slice();for(let o=n+1;o<t.length;o++)Ip(r,t[o].clients.get(i)||[]);e.clients.set(i,r)}});return So(e),e},us=(t,e,n,s)=>{_t(t.clients,e,()=>[]).push(new xo(n,s))},zg=()=>new An,qg=t=>{const e=zg();return t.clients.forEach((n,s)=>{const i=[];for(let r=0;r<n.length;r++){const o=n[r];if(o.deleted){const l=o.id.clock;let c=o.length;if(r+1<n.length)for(let u=n[r+1];r+1<n.length&&u.deleted;u=n[++r+1])c+=u.length;i.push(new xo(l,c))}}i.length>0&&e.clients.set(s,i)}),e},vn=(t,e)=>{z(t.restEncoder,e.clients.size),Lt(e.clients.entries()).sort((n,s)=>s[0]-n[0]).forEach(([n,s])=>{t.resetDsCurVal(),z(t.restEncoder,n);const i=s.length;z(t.restEncoder,i);for(let r=0;r<i;r++){const o=s[r];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},Eo=t=>{const e=new An,n=M(t.restDecoder);for(let s=0;s<n;s++){t.resetDsCurVal();const i=M(t.restDecoder),r=M(t.restDecoder);if(r>0){const o=_t(e.clients,i,()=>[]);for(let l=0;l<r;l++)o.push(new xo(t.readDsClock(),t.readDsLen()))}}return e},Fl=(t,e,n)=>{const s=new An,i=M(t.restDecoder);for(let r=0;r<i;r++){t.resetDsCurVal();const o=M(t.restDecoder),l=M(t.restDecoder),c=n.clients.get(o)||[],u=ue(n,o);for(let a=0;a<l;a++){const h=t.readDsClock(),f=h+t.readDsLen();if(h<u){u<f&&us(s,o,u,f-u);let p=ct(c,h),m=c[p];for(!m.deleted&&m.id.clock<h&&(c.splice(p+1,0,gi(e,m,h-m.id.clock)),p++);p<c.length&&(m=c[p++],m.id.clock<f);)m.deleted||(f<m.id.clock+m.length&&c.splice(p,0,gi(e,m,f-m.id.clock)),m.delete(e))}else us(s,o,h,f-h)}}if(s.clients.size>0){const r=new Gt;return z(r.restEncoder,0),vn(r,s),r.toUint8Array()}return null},eu=ja;class _s extends Ba{constructor({guid:e=hg(),collectionid:n=null,gc:s=!0,gcFilter:i=()=>!0,meta:r=null,autoLoad:o=!1,shouldLoad:l=!0}={}){super(),this.gc=s,this.gcFilter=i,this.clientID=eu(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new lu,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=o,this.meta=r,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=bn(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});const c=()=>bn(u=>{const a=h=>{(h===void 0||h===!0)&&(this.off("sync",a),u())};this.on("sync",a)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=c()),this.isSynced=u===void 0||u===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=c()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Y(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Lt(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Y(this,e,n)}get(e,n=ge){const s=_t(this.share,e,()=>{const r=new n;return r._integrate(this,null),r}),i=s.constructor;if(n!==ge&&i!==n)if(i===ge){const r=new n;r._map=s._map,s._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=r}),r._start=s._start;for(let o=r._start;o!==null;o=o.right)o.parent=r;return r._length=s._length,this.share.set(e,r),r._integrate(this,null),r}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return s}getArray(e=""){return this.get(e,mn)}getText(e=""){return this.get(e,Sn)}getMap(e=""){return this.get(e,xn)}getXmlElement(e=""){return this.get(e,En)}getXmlFragment(e=""){return this.get(e,Xt)}toJSON(){const e={};return this.share.forEach((n,s)=>{e[s]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Lt(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new _s({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Y(e.parent.doc,s=>{const i=n.doc;e.deleted||s.subdocsAdded.add(i),s.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class tu{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return M(this.restDecoder)}readDsLen(){return M(this.restDecoder)}}class nu extends tu{readLeftID(){return B(M(this.restDecoder),M(this.restDecoder))}readRightID(){return B(M(this.restDecoder),M(this.restDecoder))}readClient(){return M(this.restDecoder)}readInfo(){return wn(this.restDecoder)}readString(){return pn(this.restDecoder)}readParentInfo(){return M(this.restDecoder)===1}readTypeRef(){return M(this.restDecoder)}readLen(){return M(this.restDecoder)}readAny(){return cs(this.restDecoder)}readBuf(){return Og(Ie(this.restDecoder))}readJSON(){return JSON.parse(pn(this.restDecoder))}readKey(){return pn(this.restDecoder)}}class Kg{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=M(this.restDecoder),this.dsCurrVal}readDsLen(){const e=M(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class kn extends Kg{constructor(e){super(e),this.keys=[],M(e),this.keyClockDecoder=new cr(Ie(e)),this.clientDecoder=new Gs(Ie(e)),this.leftClockDecoder=new cr(Ie(e)),this.rightClockDecoder=new cr(Ie(e)),this.infoDecoder=new Bl(Ie(e),wn),this.stringDecoder=new cg(Ie(e)),this.parentInfoDecoder=new Bl(Ie(e),wn),this.typeRefDecoder=new Gs(Ie(e)),this.lenDecoder=new Gs(Ie(e))}readLeftID(){return new gn(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new gn(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return cs(this.restDecoder)}readBuf(){return Ie(this.restDecoder)}readJSON(){return cs(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class Wg{constructor(){this.restEncoder=Ni()}toUint8Array(){return et(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){z(this.restEncoder,e)}writeDsLen(e){z(this.restEncoder,e)}}class ks extends Wg{writeLeftID(e){z(this.restEncoder,e.client),z(this.restEncoder,e.clock)}writeRightID(e){z(this.restEncoder,e.client),z(this.restEncoder,e.clock)}writeClient(e){z(this.restEncoder,e)}writeInfo(e){Br(this.restEncoder,e)}writeString(e){dn(this.restEncoder,e)}writeParentInfo(e){z(this.restEncoder,e?1:0)}writeTypeRef(e){z(this.restEncoder,e)}writeLen(e){z(this.restEncoder,e)}writeAny(e){ls(this.restEncoder,e)}writeBuf(e){De(this.restEncoder,e)}writeJSON(e){dn(this.restEncoder,JSON.stringify(e))}writeKey(e){dn(this.restEncoder,e)}}class Jg{constructor(){this.restEncoder=Ni(),this.dsCurrVal=0}toUint8Array(){return et(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,z(this.restEncoder,n)}writeDsLen(e){e===0&&lt(),z(this.restEncoder,e-1),this.dsCurrVal+=e}}class Gt extends Jg{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new lr,this.clientEncoder=new Ys,this.leftClockEncoder=new lr,this.rightClockEncoder=new lr,this.infoEncoder=new Ll(Br),this.stringEncoder=new Qp,this.parentInfoEncoder=new Ll(Br),this.typeRefEncoder=new Ys,this.lenEncoder=new Ys}toUint8Array(){const e=Ni();return z(e,0),De(e,this.keyClockEncoder.toUint8Array()),De(e,this.clientEncoder.toUint8Array()),De(e,this.leftClockEncoder.toUint8Array()),De(e,this.rightClockEncoder.toUint8Array()),De(e,et(this.infoEncoder)),De(e,this.stringEncoder.toUint8Array()),De(e,et(this.parentInfoEncoder)),De(e,this.typeRefEncoder.toUint8Array()),De(e,this.lenEncoder.toUint8Array()),Mi(e,et(this.restEncoder)),et(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){ls(this.restEncoder,e)}writeBuf(e){De(this.restEncoder,e)}writeJSON(e){ls(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const Yg=(t,e,n,s)=>{s=en(s,e[0].id.clock);const i=ct(e,s);z(t.restEncoder,e.length-i),t.writeClient(n),z(t.restEncoder,s);const r=e[i];r.write(t,s-r.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},Co=(t,e,n)=>{const s=new Map;n.forEach((i,r)=>{ue(e,r)>i&&s.set(r,i)}),To(e).forEach((i,r)=>{n.has(r)||s.set(r,0)}),z(t.restEncoder,s.size),Lt(s.entries()).sort((i,r)=>r[0]-i[0]).forEach(([i,r])=>{Yg(t,e.clients.get(i),i,r)})},Gg=(t,e)=>{const n=Ae(),s=M(t.restDecoder);for(let i=0;i<s;i++){const r=M(t.restDecoder),o=new Array(r),l=t.readClient();let c=M(t.restDecoder);n.set(l,{i:0,refs:o});for(let u=0;u<r;u++){const a=t.readInfo();switch(Li&a){case 0:{const h=t.readLen();o[u]=new $e(B(l,c),h),c+=h;break}case 10:{const h=M(t.restDecoder);o[u]=new Fe(B(l,c),h),c+=h;break}default:{const h=(a&(yt|Me))===0,f=new se(B(l,c),null,(a&Me)===Me?t.readLeftID():null,null,(a&yt)===yt?t.readRightID():null,h?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,h&&(a&rs)===rs?t.readString():null,Ru(t,a));o[u]=f,c+=f.length}}}}return n},Xg=(t,e,n)=>{const s=[];let i=Lt(n.keys()).sort((p,m)=>p-m);if(i.length===0)return null;const r=()=>{if(i.length===0)return null;let p=n.get(i[i.length-1]);for(;p.refs.length===p.i;)if(i.pop(),i.length>0)p=n.get(i[i.length-1]);else return null;return p};let o=r();if(o===null)return null;const l=new lu,c=new Map,u=(p,m)=>{const _=c.get(p);(_==null||_>m)&&c.set(p,m)};let a=o.refs[o.i++];const h=new Map,f=()=>{for(const p of s){const m=p.id.client,_=n.get(m);_?(_.i--,l.clients.set(m,_.refs.slice(_.i)),n.delete(m),_.i=0,_.refs=[]):l.clients.set(m,[p]),i=i.filter(v=>v!==m)}s.length=0};for(;;){if(a.constructor!==Fe){const m=_t(h,a.id.client,()=>ue(e,a.id.client))-a.id.clock;if(m<0)s.push(a),u(a.id.client,a.id.clock-1),f();else{const _=a.getMissing(t,e);if(_!==null){s.push(a);const v=n.get(_)||{refs:[],i:0};if(v.refs.length===v.i)u(_,ue(e,_)),f();else{a=v.refs[v.i++];continue}}else(m===0||m<a.length)&&(a.integrate(t,m),h.set(a.id.client,a.id.clock+a.length))}}if(s.length>0)a=s.pop();else if(o!==null&&o.i<o.refs.length)a=o.refs[o.i++];else{if(o=r(),o===null)break;a=o.refs[o.i++]}}if(l.clients.size>0){const p=new Gt;return Co(p,l,new Map),z(p.restEncoder,0),{missing:c,update:p.toUint8Array()}}return null},Zg=(t,e)=>Co(t,e.doc.store,e.beforeState),Qg=(t,e,n,s=new kn(t))=>Y(e,i=>{i.local=!1;let r=!1;const o=i.doc,l=o.store,c=Gg(s,o),u=Xg(i,l,c),a=l.pendingStructs;if(a){for(const[f,p]of a.missing)if(p<ue(l,f)){r=!0;break}if(u){for(const[f,p]of u.missing){const m=a.missing.get(f);(m==null||m>p)&&a.missing.set(f,p)}a.update=ai([a.update,u.update])}}else l.pendingStructs=u;const h=Fl(s,i,l);if(l.pendingDs){const f=new kn(Tn(l.pendingDs));M(f.restDecoder);const p=Fl(f,i,l);h&&p?l.pendingDs=ai([h,p]):l.pendingDs=h||p}else l.pendingDs=h;if(r){const f=l.pendingStructs.update;l.pendingStructs=null,su(i.doc,f)}},n,!1),su=(t,e,n,s=kn)=>{const i=Tn(e);Qg(i,t,n,new s(i))},em=(t,e,n)=>su(t,e,n,nu),tm=(t,e,n=new Map)=>{Co(t,e.store,n),vn(t,qg(e.store))},nm=(t,e=new Uint8Array([0]),n=new Gt)=>{const s=ru(e);tm(n,t,s);const i=[n.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(gm(t.store.pendingStructs.update,e)),i.length>1){if(n.constructor===ks)return dm(i.map((r,o)=>o===0?r:ym(r)));if(n.constructor===Gt)return ai(i)}return i[0]},iu=(t,e)=>nm(t,e,new ks),sm=t=>{const e=new Map,n=M(t.restDecoder);for(let s=0;s<n;s++){const i=M(t.restDecoder),r=M(t.restDecoder);e.set(i,r)}return e},ru=t=>sm(new tu(Tn(t)));class im{constructor(){this.l=[]}}const Pl=()=>new im,Vl=(t,e)=>t.l.push(e),jl=(t,e)=>{const n=t.l,s=n.length;t.l=n.filter(i=>e!==i),s===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},ou=(t,e,n)=>_o(t.l,[e,n]);class gn{constructor(e,n){this.client=e,this.clock=n}}const Bs=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,B=(t,e)=>new gn(t,e),rm=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw lt()},ci=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1},an=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!bs(e.ds,t.id),Pr=(t,e)=>{const n=_t(t.meta,Pr,Yt),s=t.doc.store;n.has(e)||(e.sv.forEach((i,r)=>{i<ue(s,r)&&Ce(t,B(r,i))}),_n(t,e.ds,i=>{}),n.add(e))};class lu{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const To=t=>{const e=new Map;return t.clients.forEach((n,s)=>{const i=n[n.length-1];e.set(s,i.id.clock+i.length)}),e},ue=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const s=n[n.length-1];return s.id.clock+s.length},cu=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const s=n[n.length-1];if(s.id.clock+s.length!==e.id.clock)throw lt()}n.push(e)},ct=(t,e)=>{let n=0,s=t.length-1,i=t[s],r=i.id.clock;if(r===e)return s;let o=Nt(e/(r+i.length-1)*s);for(;n<=s;){if(i=t[o],r=i.id.clock,r<=e){if(e<r+i.length)return o;n=o+1}else s=o-1;o=Nt((n+s)/2)}throw lt()},om=(t,e)=>{const n=t.clients.get(e.client);return n[ct(n,e.clock)]},Xs=om,Vr=(t,e,n)=>{const s=ct(e,n),i=e[s];return i.id.clock<n&&i instanceof se?(e.splice(s+1,0,gi(t,i,n-i.id.clock)),s+1):s},Ce=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Vr(t,n,e.clock)]},Hl=(t,e,n)=>{const s=e.clients.get(n.client),i=ct(s,n.clock),r=s[i];return n.clock!==r.id.clock+r.length-1&&r.constructor!==$e&&s.splice(i+1,0,gi(t,r,n.clock-r.id.clock+1)),r},lm=(t,e,n)=>{const s=t.clients.get(e.id.client);s[ct(s,e.id.clock)]=n},au=(t,e,n,s,i)=>{if(s===0)return;const r=n+s;let o=Vr(t,e,n),l;do l=e[o++],r<l.id.clock+l.length&&Vr(t,e,r),i(l);while(o<e.length&&e[o].id.clock<r)};class cm{constructor(e,n,s){this.doc=e,this.deleteSet=new An,this.beforeState=To(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=s,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const zl=(t,e)=>e.deleteSet.clients.size===0&&!Dp(e.afterState,(n,s)=>e.beforeState.get(s)!==n)?!1:(So(e.deleteSet),Zg(t,e),vn(t,e.deleteSet),!0),ql=(t,e,n)=>{const s=e._item;(s===null||s.id.clock<(t.beforeState.get(s.id.client)||0)&&!s.deleted)&&_t(t.changed,e,Yt).add(n)},Zs=(t,e)=>{let n=t[e],s=t[e-1],i=e;for(;i>0;n=s,s=t[--i-1]){if(s.deleted===n.deleted&&s.constructor===n.constructor&&s.mergeWith(n)){n instanceof se&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,s);continue}break}const r=e-i;return r&&t.splice(e+1-r,r),r},am=(t,e,n)=>{for(const[s,i]of t.clients.entries()){const r=e.clients.get(s);for(let o=i.length-1;o>=0;o--){const l=i[o],c=l.clock+l.len;for(let u=ct(r,l.clock),a=r[u];u<r.length&&a.id.clock<c;a=r[++u]){const h=r[u];if(l.clock+l.len<=h.id.clock)break;h instanceof se&&h.deleted&&!h.keep&&n(h)&&h.gc(e,!1)}}}},um=(t,e)=>{t.clients.forEach((n,s)=>{const i=e.clients.get(s);for(let r=n.length-1;r>=0;r--){const o=n[r],l=Ua(i.length-1,1+ct(i,o.clock+o.len-1));for(let c=l,u=i[c];c>0&&u.id.clock>=o.clock;u=i[c])c-=1+Zs(i,c)}})},uu=(t,e)=>{if(e<t.length){const n=t[e],s=n.doc,i=s.store,r=n.deleteSet,o=n._mergeStructs;try{So(r),n.afterState=To(n.doc.store),s.emit("beforeObserverCalls",[n,s]);const l=[];n.changed.forEach((c,u)=>l.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(n,c)})),l.push(()=>{n.changedParentTypes.forEach((c,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(c=c.filter(a=>a.target._item===null||!a.target._item.deleted),c.forEach(a=>{a.currentTarget=u,a._path=null}),c.sort((a,h)=>a.path.length-h.path.length),ou(u._dEH,c,n))})}),l.push(()=>s.emit("afterTransaction",[n,s])),_o(l,[]),n._needFormattingCleanup&&Dm(n)}finally{s.gc&&am(r,i,s.gcFilter),um(r,i),n.afterState.forEach((a,h)=>{const f=n.beforeState.get(h)||0;if(f!==a){const p=i.clients.get(h),m=en(ct(p,f),1);for(let _=p.length-1;_>=m;)_-=1+Zs(p,_)}});for(let a=o.length-1;a>=0;a--){const{client:h,clock:f}=o[a].id,p=i.clients.get(h),m=ct(p,f);m+1<p.length&&Zs(p,m+1)>1||m>0&&Zs(p,m)}if(!n.local&&n.afterState.get(s.clientID)!==n.beforeState.get(s.clientID)&&(Vg(ko,Wa,"[yjs] ",Ja,Ya,"Changed the client-id because another client seems to be using it."),s.clientID=eu()),s.emit("afterTransactionCleanup",[n,s]),s._observers.has("update")){const a=new ks;zl(a,n)&&s.emit("update",[a.toUint8Array(),n.origin,s,n])}if(s._observers.has("updateV2")){const a=new Gt;zl(a,n)&&s.emit("updateV2",[a.toUint8Array(),n.origin,s,n])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:u}=n;(l.size>0||u.size>0||c.size>0)&&(l.forEach(a=>{a.clientID=s.clientID,a.collectionid==null&&(a.collectionid=s.collectionid),s.subdocs.add(a)}),u.forEach(a=>s.subdocs.delete(a)),s.emit("subdocs",[{loaded:c,added:l,removed:u},s,n]),u.forEach(a=>a.destroy())),t.length<=e+1?(s._transactionCleanups=[],s.emit("afterAllTransactions",[s,t])):uu(t,e+1)}}},Y=(t,e,n=null,s=!0)=>{const i=t._transactionCleanups;let r=!1,o=null;t._transaction===null&&(r=!0,t._transaction=new cm(t,n,s),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(r){const l=t._transaction===i[0];t._transaction=null,l&&uu(i,0)}}return o};class hm{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const Kl=(t,e,n)=>{_n(t,n.deletions,s=>{s instanceof se&&e.scope.some(i=>ci(i,s))&&No(s,!1)})},Wl=(t,e,n)=>{let s=null;const i=t.doc,r=t.scope;Y(i,l=>{for(;e.length>0&&t.currStackItem===null;){const c=i.store,u=e.pop(),a=new Set,h=[];let f=!1;_n(l,u.insertions,p=>{if(p instanceof se){if(p.redone!==null){let{item:m,diff:_}=iy(c,p.id);_>0&&(m=Ce(l,B(m.id.client,m.id.clock+_))),p=m}!p.deleted&&r.some(m=>ci(m,p))&&h.push(p)}}),_n(l,u.deletions,p=>{p instanceof se&&r.some(m=>ci(m,p))&&!bs(u.insertions,p.id)&&a.add(p)}),a.forEach(p=>{f=vu(l,p,a,u.insertions,t.ignoreRemoteMapChanges,t)!==null||f});for(let p=h.length-1;p>=0;p--){const m=h[p];t.deleteFilter(m)&&(m.delete(l),f=!0)}t.currStackItem=f?u:null}l.changed.forEach((c,u)=>{c.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),s=l},t);const o=t.currStackItem;if(o!=null){const l=s.changedParentTypes;t.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:l,origin:t},t]),t.currStackItem=null}return o};class _w extends Ba{constructor(e,{captureTimeout:n=500,captureTransaction:s=c=>!0,deleteFilter:i=()=>!0,trackedOrigins:r=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:l=Nr(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=l,this.addToScope(e),this.deleteFilter=i,r.add(this),this.trackedOrigins=r,this.captureTransaction=s,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=c=>{if(!this.captureTransaction(c)||!this.scope.some(v=>c.changedParentTypes.has(v))||!this.trackedOrigins.has(c.origin)&&(!c.origin||!this.trackedOrigins.has(c.origin.constructor)))return;const u=this.undoing,a=this.redoing,h=u?this.redoStack:this.undoStack;u?this.stopCapturing():a||this.clear(!1,!0);const f=new An;c.afterState.forEach((v,A)=>{const P=c.beforeState.get(A)||0,U=v-P;U>0&&us(f,A,P,U)});const p=fg();let m=!1;if(this.lastChange>0&&p-this.lastChange<this.captureTimeout&&h.length>0&&!u&&!a){const v=h[h.length-1];v.deletions=Fr([v.deletions,c.deleteSet]),v.insertions=Fr([v.insertions,f])}else h.push(new hm(c.deleteSet,f)),m=!0;!u&&!a&&(this.lastChange=p),_n(c,c.deleteSet,v=>{v instanceof se&&this.scope.some(A=>ci(A,v))&&No(v,!0)});const _=[{stackItem:h[h.length-1],origin:c.origin,type:u?"redo":"undo",changedParentTypes:c.changedParentTypes},this];m?this.emit("stack-item-added",_):this.emit("stack-item-updated",_)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=Nr(e)?e:[e],e.forEach(n=>{this.scope.every(s=>s!==n)&&(n.doc!==this.doc&&Xa("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(s=>{e&&(this.undoStack.forEach(i=>Kl(s,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>Kl(s,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=Wl(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=Wl(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*fm(t){const e=M(t.restDecoder);for(let n=0;n<e;n++){const s=M(t.restDecoder),i=t.readClient();let r=M(t.restDecoder);for(let o=0;o<s;o++){const l=t.readInfo();if(l===10){const c=M(t.restDecoder);yield new Fe(B(i,r),c),r+=c}else if(Li&l){const c=(l&(yt|Me))===0,u=new se(B(i,r),null,(l&Me)===Me?t.readLeftID():null,null,(l&yt)===yt?t.readRightID():null,c?t.readParentInfo()?t.readString():t.readLeftID():null,c&&(l&rs)===rs?t.readString():null,Ru(t,l));yield u,r+=u.length}else{const c=t.readLen();yield new $e(B(i,r),c),r+=c}}}}class Ao{constructor(e,n){this.gen=fm(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Fe);return this.curr}}class vo{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const dm=t=>ai(t,nu,ks),pm=(t,e)=>{if(t.constructor===$e){const{client:n,clock:s}=t.id;return new $e(B(n,s+e),t.length-e)}else if(t.constructor===Fe){const{client:n,clock:s}=t.id;return new Fe(B(n,s+e),t.length-e)}else{const n=t,{client:s,clock:i}=n.id;return new se(B(s,i+e),null,B(s,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},ai=(t,e=kn,n=Gt)=>{if(t.length===1)return t[0];const s=t.map(a=>new e(Tn(a)));let i=s.map(a=>new Ao(a,!0)),r=null;const o=new n,l=new vo(o);for(;i=i.filter(f=>f.curr!==null),i.sort((f,p)=>{if(f.curr.id.client===p.curr.id.client){const m=f.curr.id.clock-p.curr.id.clock;return m===0?f.curr.constructor===p.curr.constructor?0:f.curr.constructor===Fe?1:-1:m}else return p.curr.id.client-f.curr.id.client}),i.length!==0;){const a=i[0],h=a.curr.id.client;if(r!==null){let f=a.curr,p=!1;for(;f!==null&&f.id.clock+f.length<=r.struct.id.clock+r.struct.length&&f.id.client>=r.struct.id.client;)f=a.next(),p=!0;if(f===null||f.id.client!==h||p&&f.id.clock>r.struct.id.clock+r.struct.length)continue;if(h!==r.struct.id.client)At(l,r.struct,r.offset),r={struct:f,offset:0},a.next();else if(r.struct.id.clock+r.struct.length<f.id.clock)if(r.struct.constructor===Fe)r.struct.length=f.id.clock+f.length-r.struct.id.clock;else{At(l,r.struct,r.offset);const m=f.id.clock-r.struct.id.clock-r.struct.length;r={struct:new Fe(B(h,r.struct.id.clock+r.struct.length),m),offset:0}}else{const m=r.struct.id.clock+r.struct.length-f.id.clock;m>0&&(r.struct.constructor===Fe?r.struct.length-=m:f=pm(f,m)),r.struct.mergeWith(f)||(At(l,r.struct,r.offset),r={struct:f,offset:0},a.next())}}else r={struct:a.curr,offset:0},a.next();for(let f=a.curr;f!==null&&f.id.client===h&&f.id.clock===r.struct.id.clock+r.struct.length&&f.constructor!==Fe;f=a.next())At(l,r.struct,r.offset),r={struct:f,offset:0}}r!==null&&(At(l,r.struct,r.offset),r=null),Ro(l);const c=s.map(a=>Eo(a)),u=Fr(c);return vn(o,u),o.toUint8Array()},gm=(t,e,n=kn,s=Gt)=>{const i=ru(e),r=new s,o=new vo(r),l=new n(Tn(t)),c=new Ao(l,!1);for(;c.curr;){const a=c.curr,h=a.id.client,f=i.get(h)||0;if(c.curr.constructor===Fe){c.next();continue}if(a.id.clock+a.length>f)for(At(o,a,en(f-a.id.clock,0)),c.next();c.curr&&c.curr.id.client===h;)At(o,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===h&&c.curr.id.clock+c.curr.length<=f;)c.next()}Ro(o);const u=Eo(l);return vn(r,u),r.toUint8Array()},hu=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:et(t.encoder.restEncoder)}),t.encoder.restEncoder=Ni(),t.written=0)},At=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&hu(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),z(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Ro=t=>{hu(t);const e=t.encoder.restEncoder;z(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const s=t.clientStructs[n];z(e,s.written),Mi(e,s.restEncoder)}},mm=(t,e,n,s)=>{const i=new n(Tn(t)),r=new Ao(i,!1),o=new s,l=new vo(o);for(let u=r.curr;u!==null;u=r.next())At(l,e(u),0);Ro(l);const c=Eo(i);return vn(o,c),o.toUint8Array()},ym=t=>mm(t,Eg,kn,ks),Jl="You must not compute changes after the event-handler fired.";class Ui{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=wm(this.currentTarget,this.target))}deletes(e){return bs(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw wt(Jl);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const r=n._map.get(i);let o,l;if(this.adds(r)){let c=r.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(r))if(c!==null&&this.deletes(c))o="delete",l=ir(c.content.getContent());else return;else c!==null&&this.deletes(c)?(o="update",l=ir(c.content.getContent())):(o="add",l=void 0)}else if(this.deletes(r))o="delete",l=ir(r.content.getContent());else return;e.set(i,{action:o,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw wt(Jl);const n=this.target,s=Yt(),i=Yt(),r=[];if(e={added:s,deleted:i,delta:r,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const c=()=>{l&&r.push(l)};for(let u=n._start;u!==null;u=u.right)u.deleted?this.deletes(u)&&!this.adds(u)&&((l===null||l.delete===void 0)&&(c(),l={delete:0}),l.delete+=u.length,i.add(u)):this.adds(u)?((l===null||l.insert===void 0)&&(c(),l={insert:[]}),l.insert=l.insert.concat(u.content.getContent()),s.add(u)):((l===null||l.retain===void 0)&&(c(),l={retain:0}),l.retain+=u.length);l!==null&&l.retain===void 0&&c()}this._changes=e}return e}}const wm=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let s=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(s+=i.length),i=i.right;n.unshift(s)}e=e._item.parent}return n},be=()=>{Xa("Invalid access: Add Yjs type to a document before reading data.")},fu=80;let Oo=0;class bm{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Oo++}}const _m=t=>{t.timestamp=Oo++},du=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Oo++},km=(t,e,n)=>{if(t.length>=fu){const s=t.reduce((i,r)=>i.timestamp<r.timestamp?i:r);return du(s,e,n),s}else{const s=new bm(e,n);return t.push(s),s}},$i=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((r,o)=>Js(e-r.index)<Js(e-o.index)?r:o);let s=t._start,i=0;for(n!==null&&(s=n.p,i=n.index,_m(n));s.right!==null&&i<e;){if(!s.deleted&&s.countable){if(e<i+s.length)break;i+=s.length}s=s.right}for(;s.left!==null&&i>e;)s=s.left,!s.deleted&&s.countable&&(i-=s.length);for(;s.left!==null&&s.left.id.client===s.id.client&&s.left.id.clock+s.left.length===s.id.clock;)s=s.left,!s.deleted&&s.countable&&(i-=s.length);return n!==null&&Js(n.index-i)<s.parent.length/fu?(du(n,s,i),n):km(t._searchMarker,s,i)},hs=(t,e,n)=>{for(let s=t.length-1;s>=0;s--){const i=t[s];if(n>0){let r=i.p;for(r.marker=!1;r&&(r.deleted||!r.countable);)r=r.left,r&&!r.deleted&&r.countable&&(i.index-=r.length);if(r===null||r.marker===!0){t.splice(s,1);continue}i.p=r,r.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=en(e,i.index+n))}},Fi=(t,e,n)=>{const s=t,i=e.changedParentTypes;for(;_t(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;ou(s._eH,n,e)};class ge{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Pl(),this._dEH=Pl(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw it()}clone(){throw it()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Vl(this._eH,e)}observeDeep(e){Vl(this._dEH,e)}unobserve(e){jl(this._eH,e)}unobserveDeep(e){jl(this._dEH,e)}toJSON(){}}const pu=(t,e,n)=>{t.doc??be(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let s=n-e;const i=[];let r=t._start;for(;r!==null&&s>0;){if(r.countable&&!r.deleted){const o=r.content.getContent();if(o.length<=e)e-=o.length;else{for(let l=e;l<o.length&&s>0;l++)i.push(o[l]),s--;e=0}}r=r.right}return i},gu=t=>{t.doc??be();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const s=n.content.getContent();for(let i=0;i<s.length;i++)e.push(s[i])}n=n.right}return e},fs=(t,e)=>{let n=0,s=t._start;for(t.doc??be();s!==null;){if(s.countable&&!s.deleted){const i=s.content.getContent();for(let r=0;r<i.length;r++)e(i[r],n++,t)}s=s.right}},mu=(t,e)=>{const n=[];return fs(t,(s,i)=>{n.push(e(s,i,t))}),n},xm=t=>{let e=t._start,n=null,s=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),s=0,e=e.right}const i=n[s++];return n.length<=s&&(n=null),{done:!1,value:i}}}},yu=(t,e)=>{t.doc??be();const n=$i(t,e);let s=t._start;for(n!==null&&(s=n.p,e-=n.index);s!==null;s=s.right)if(!s.deleted&&s.countable){if(e<s.length)return s.content.getContent()[e];e-=s.length}},ui=(t,e,n,s)=>{let i=n;const r=t.doc,o=r.clientID,l=r.store,c=n===null?e._start:n.right;let u=[];const a=()=>{u.length>0&&(i=new se(B(o,ue(l,o)),i,i&&i.lastId,c,c&&c.id,e,null,new Zt(u)),i.integrate(t,0),u=[])};s.forEach(h=>{if(h===null)u.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(h);break;default:switch(a(),h.constructor){case Uint8Array:case ArrayBuffer:i=new se(B(o,ue(l,o)),i,i&&i.lastId,c,c&&c.id,e,null,new xs(new Uint8Array(h))),i.integrate(t,0);break;case _s:i=new se(B(o,ue(l,o)),i,i&&i.lastId,c,c&&c.id,e,null,new Ss(h)),i.integrate(t,0);break;default:if(h instanceof ge)i=new se(B(o,ue(l,o)),i,i&&i.lastId,c,c&&c.id,e,null,new xt(h)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),a()},wu=()=>wt("Length exceeded!"),bu=(t,e,n,s)=>{if(n>e._length)throw wu();if(n===0)return e._searchMarker&&hs(e._searchMarker,n,s.length),ui(t,e,null,s);const i=n,r=$i(e,n);let o=e._start;for(r!==null&&(o=r.p,n-=r.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Ce(t,B(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&hs(e._searchMarker,i,s.length),ui(t,e,o,s)},Sm=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((r,o)=>o.index>r.index?o:r,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return ui(t,e,i,n)},_u=(t,e,n,s)=>{if(s===0)return;const i=n,r=s,o=$i(e,n);let l=e._start;for(o!==null&&(l=o.p,n-=o.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Ce(t,B(l.id.client,l.id.clock+n)),n-=l.length);for(;s>0&&l!==null;)l.deleted||(s<l.length&&Ce(t,B(l.id.client,l.id.clock+s)),l.delete(t),s-=l.length),l=l.right;if(s>0)throw wu();e._searchMarker&&hs(e._searchMarker,i,-r+s)},hi=(t,e,n)=>{const s=e._map.get(n);s!==void 0&&s.delete(t)},Do=(t,e,n,s)=>{const i=e._map.get(n)||null,r=t.doc,o=r.clientID;let l;if(s==null)l=new Zt([s]);else switch(s.constructor){case Number:case Object:case Boolean:case Array:case String:l=new Zt([s]);break;case Uint8Array:l=new xs(s);break;case _s:l=new Ss(s);break;default:if(s instanceof ge)l=new xt(s);else throw new Error("Unexpected content type")}new se(B(o,ue(r.store,o)),i,i&&i.lastId,null,null,e,n,l).integrate(t,0)},Io=(t,e)=>{t.doc??be();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},ku=t=>{const e={};return t.doc??be(),t._map.forEach((n,s)=>{n.deleted||(e[s]=n.content.getContent()[n.length-1])}),e},xu=(t,e)=>{t.doc??be();const n=t._map.get(e);return n!==void 0&&!n.deleted},Em=(t,e)=>{const n={};return t._map.forEach((s,i)=>{let r=s;for(;r!==null&&(!e.sv.has(r.id.client)||r.id.clock>=(e.sv.get(r.id.client)||0));)r=r.left;r!==null&&an(r,e)&&(n[i]=r.content.getContent()[r.length-1])}),n},Us=t=>(t.doc??be(),jg(t._map.entries(),e=>!e[1].deleted));class Cm extends Ui{}class mn extends ge{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new mn;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new mn}clone(){const e=new mn;return e.insert(0,this.toArray().map(n=>n instanceof ge?n.clone():n)),e}get length(){return this.doc??be(),this._length}_callObserver(e,n){super._callObserver(e,n),Fi(this,e,new Cm(this,e))}insert(e,n){this.doc!==null?Y(this.doc,s=>{bu(s,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Y(this.doc,n=>{Sm(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Y(this.doc,s=>{_u(s,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return yu(this,e)}toArray(){return gu(this)}slice(e=0,n=this.length){return pu(this,e,n)}toJSON(){return this.map(e=>e instanceof ge?e.toJSON():e)}map(e){return mu(this,e)}forEach(e){fs(this,e)}[Symbol.iterator](){return xm(this)}_write(e){e.writeTypeRef(Gm)}}const Tm=t=>new mn;class Am extends Ui{constructor(e,n,s){super(e,n),this.keysChanged=s}}class xn extends ge{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((s,i)=>{this.set(i,s)}),this._prelimContent=null}_copy(){return new xn}clone(){const e=new xn;return this.forEach((n,s)=>{e.set(s,n instanceof ge?n.clone():n)}),e}_callObserver(e,n){Fi(this,e,new Am(this,e,n))}toJSON(){this.doc??be();const e={};return this._map.forEach((n,s)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[s]=i instanceof ge?i.toJSON():i}}),e}get size(){return[...Us(this)].length}keys(){return ar(Us(this),e=>e[0])}values(){return ar(Us(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return ar(Us(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??be(),this._map.forEach((n,s)=>{n.deleted||e(n.content.getContent()[n.length-1],s,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Y(this.doc,n=>{hi(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Y(this.doc,s=>{Do(s,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Io(this,e)}has(e){return xu(this,e)}clear(){this.doc!==null?Y(this.doc,e=>{this.forEach(function(n,s,i){hi(e,i,s)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Xm)}}const vm=t=>new xn,vt=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&xg(t,e);class jr{constructor(e,n,s,i){this.left=e,this.right=n,this.index=s,this.currentAttributes=i}forward(){switch(this.right===null&&lt(),this.right.content.constructor){case he:this.right.deleted||Rn(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Yl=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case he:e.right.deleted||Rn(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Ce(t,B(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},$s=(t,e,n,s)=>{const i=new Map,r=s?$i(e,n):null;if(r){const o=new jr(r.p.left,r.p,r.index,i);return Yl(t,o,n-r.index)}else{const o=new jr(null,e._start,0,i);return Yl(t,o,n)}},Su=(t,e,n,s)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===he&&vt(s.get(n.right.content.key),n.right.content.value));)n.right.deleted||s.delete(n.right.content.key),n.forward();const i=t.doc,r=i.clientID;s.forEach((o,l)=>{const c=n.left,u=n.right,a=new se(B(r,ue(i.store,r)),c,c&&c.lastId,u,u&&u.id,e,null,new he(l,o));a.integrate(t,0),n.right=a,n.forward()})},Rn=(t,e)=>{const{key:n,value:s}=e;s===null?t.delete(n):t.set(n,s)},Eu=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===he&&vt(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},Cu=(t,e,n,s)=>{const i=t.doc,r=i.clientID,o=new Map;for(const l in s){const c=s[l],u=n.currentAttributes.get(l)??null;if(!vt(u,c)){o.set(l,u);const{left:a,right:h}=n;n.right=new se(B(r,ue(i.store,r)),a,a&&a.lastId,h,h&&h.id,e,null,new he(l,c)),n.right.integrate(t,0),n.forward()}}return o},ur=(t,e,n,s,i)=>{n.currentAttributes.forEach((f,p)=>{i[p]===void 0&&(i[p]=null)});const r=t.doc,o=r.clientID;Eu(n,i);const l=Cu(t,e,n,i),c=s.constructor===String?new at(s):s instanceof ge?new xt(s):new tn(s);let{left:u,right:a,index:h}=n;e._searchMarker&&hs(e._searchMarker,n.index,c.getLength()),a=new se(B(o,ue(r.store,o)),u,u&&u.lastId,a,a&&a.id,e,null,c),a.integrate(t,0),n.right=a,n.index=h,n.forward(),Su(t,e,n,l)},Gl=(t,e,n,s,i)=>{const r=t.doc,o=r.clientID;Eu(n,i);const l=Cu(t,e,n,i);e:for(;n.right!==null&&(s>0||l.size>0&&(n.right.deleted||n.right.content.constructor===he));){if(!n.right.deleted)switch(n.right.content.constructor){case he:{const{key:c,value:u}=n.right.content,a=i[c];if(a!==void 0){if(vt(a,u))l.delete(c);else{if(s===0)break e;l.set(c,u)}n.right.delete(t)}else n.currentAttributes.set(c,u);break}default:s<n.right.length&&Ce(t,B(n.right.id.client,n.right.id.clock+s)),s-=n.right.length;break}n.forward()}if(s>0){let c="";for(;s>0;s--)c+=`
`;n.right=new se(B(o,ue(r.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new at(c)),n.right.integrate(t,0),n.forward()}Su(t,e,n,l)},Tu=(t,e,n,s,i)=>{let r=e;const o=Ae();for(;r&&(!r.countable||r.deleted);){if(!r.deleted&&r.content.constructor===he){const u=r.content;o.set(u.key,u)}r=r.right}let l=0,c=!1;for(;e!==r;){if(n===e&&(c=!0),!e.deleted){const u=e.content;switch(u.constructor){case he:{const{key:a,value:h}=u,f=s.get(a)??null;(o.get(a)!==u||f===h)&&(e.delete(t),l++,!c&&(i.get(a)??null)===h&&f!==h&&(f===null?i.delete(a):i.set(a,f))),!c&&!e.deleted&&Rn(i,u);break}}}e=e.right}return l},Rm=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===he){const s=e.content.key;n.has(s)?e.delete(t):n.add(s)}e=e.left}},Om=t=>{let e=0;return Y(t.doc,n=>{let s=t._start,i=t._start,r=Ae();const o=Lr(r);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case he:Rn(o,i.content);break;default:e+=Tu(n,s,i,r,o),r=Lr(o),s=i;break}i=i.right}}),e},Dm=t=>{const e=new Set,n=t.doc;for(const[s,i]of t.afterState.entries()){const r=t.beforeState.get(s)||0;i!==r&&au(t,n.store.clients.get(s),r,i,o=>{!o.deleted&&o.content.constructor===he&&o.constructor!==$e&&e.add(o.parent)})}Y(n,s=>{_n(t,t.deleteSet,i=>{if(i instanceof $e||!i.parent._hasFormatting||e.has(i.parent))return;const r=i.parent;i.content.constructor===he?e.add(r):Rm(s,i)});for(const i of e)Om(i)})},Xl=(t,e,n)=>{const s=n,i=Lr(e.currentAttributes),r=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case xt:case tn:case at:n<e.right.length&&Ce(t,B(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}r&&Tu(t,r,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&hs(o._searchMarker,e.index,-s+n),e};class Im extends Ui{constructor(e,n,s){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,s.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Y(e,s=>{const i=new Map,r=new Map;let o=this.target._start,l=null;const c={};let u="",a=0,h=0;const f=()=>{if(l!==null){let p=null;switch(l){case"delete":h>0&&(p={delete:h}),h=0;break;case"insert":(typeof u=="object"||u.length>0)&&(p={insert:u},i.size>0&&(p.attributes={},i.forEach((m,_)=>{m!==null&&(p.attributes[_]=m)}))),u="";break;case"retain":a>0&&(p={retain:a},bg(c)||(p.attributes=mg({},c))),a=0;break}p&&n.push(p),l=null}};for(;o!==null;){switch(o.content.constructor){case xt:case tn:this.adds(o)?this.deletes(o)||(f(),l="insert",u=o.content.getContent()[0],f()):this.deletes(o)?(l!=="delete"&&(f(),l="delete"),h+=1):o.deleted||(l!=="retain"&&(f(),l="retain"),a+=1);break;case at:this.adds(o)?this.deletes(o)||(l!=="insert"&&(f(),l="insert"),u+=o.content.str):this.deletes(o)?(l!=="delete"&&(f(),l="delete"),h+=o.length):o.deleted||(l!=="retain"&&(f(),l="retain"),a+=o.length);break;case he:{const{key:p,value:m}=o.content;if(this.adds(o)){if(!this.deletes(o)){const _=i.get(p)??null;vt(_,m)?m!==null&&o.delete(s):(l==="retain"&&f(),vt(m,r.get(p)??null)?delete c[p]:c[p]=m)}}else if(this.deletes(o)){r.set(p,m);const _=i.get(p)??null;vt(_,m)||(l==="retain"&&f(),c[p]=_)}else if(!o.deleted){r.set(p,m);const _=c[p];_!==void 0&&(vt(_,m)?_!==null&&o.delete(s):(l==="retain"&&f(),m===null?delete c[p]:c[p]=m))}o.deleted||(l==="insert"&&f(),Rn(i,o.content));break}}o=o.right}for(f();n.length>0;){const p=n[n.length-1];if(p.retain!==void 0&&p.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Sn extends ge{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??be(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(s=>s())}catch(s){console.error(s)}this._pending=null}_copy(){return new Sn}clone(){const e=new Sn;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const s=new Im(this,e,n);Fi(this,e,s),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??be();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===at&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Y(this.doc,s=>{const i=new jr(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const o=e[r];if(o.insert!==void 0){const l=!n&&typeof o.insert=="string"&&r===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof l!="string"||l.length>0)&&ur(s,this,i,l,o.attributes||{})}else o.retain!==void 0?Gl(s,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&Xl(s,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,s){this.doc??be();const i=[],r=new Map,o=this.doc;let l="",c=this._start;function u(){if(l.length>0){const h={};let f=!1;r.forEach((m,_)=>{f=!0,h[_]=m});const p={insert:l};f&&(p.attributes=h),i.push(p),l=""}}const a=()=>{for(;c!==null;){if(an(c,e)||n!==void 0&&an(c,n))switch(c.content.constructor){case at:{const h=r.get("ychange");e!==void 0&&!an(c,e)?(h===void 0||h.user!==c.id.client||h.type!=="removed")&&(u(),r.set("ychange",s?s("removed",c.id):{type:"removed"})):n!==void 0&&!an(c,n)?(h===void 0||h.user!==c.id.client||h.type!=="added")&&(u(),r.set("ychange",s?s("added",c.id):{type:"added"})):h!==void 0&&(u(),r.delete("ychange")),l+=c.content.str;break}case xt:case tn:{u();const h={insert:c.content.getContent()[0]};if(r.size>0){const f={};h.attributes=f,r.forEach((p,m)=>{f[m]=p})}i.push(h);break}case he:an(c,e)&&(u(),Rn(r,c.content));break}c=c.right}u()};return e||n?Y(o,h=>{e&&Pr(h,e),n&&Pr(h,n),a()},"cleanup"):a(),i}insert(e,n,s){if(n.length<=0)return;const i=this.doc;i!==null?Y(i,r=>{const o=$s(r,this,e,!s);s||(s={},o.currentAttributes.forEach((l,c)=>{s[c]=l})),ur(r,this,o,n,s)}):this._pending.push(()=>this.insert(e,n,s))}insertEmbed(e,n,s){const i=this.doc;i!==null?Y(i,r=>{const o=$s(r,this,e,!s);ur(r,this,o,n,s||{})}):this._pending.push(()=>this.insertEmbed(e,n,s||{}))}delete(e,n){if(n===0)return;const s=this.doc;s!==null?Y(s,i=>{Xl(i,$s(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,s){if(n===0)return;const i=this.doc;i!==null?Y(i,r=>{const o=$s(r,this,e,!1);o.right!==null&&Gl(r,this,o,n,s)}):this._pending.push(()=>this.format(e,n,s))}removeAttribute(e){this.doc!==null?Y(this.doc,n=>{hi(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Y(this.doc,s=>{Do(s,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Io(this,e)}getAttributes(){return ku(this)}_write(e){e.writeTypeRef(Zm)}}const Lm=t=>new Sn;class hr{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??be()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===En||n.constructor===Xt)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Xt extends ge{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Xt}clone(){const e=new Xt;return e.insert(0,this.toArray().map(n=>n instanceof ge?n.clone():n)),e}get length(){return this.doc??be(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new hr(this,e)}querySelector(e){e=e.toUpperCase();const s=new hr(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return s.done?null:s.value}querySelectorAll(e){return e=e.toUpperCase(),Lt(new hr(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Fi(this,e,new Bm(this,n,e))}toString(){return mu(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},s){const i=e.createDocumentFragment();return s!==void 0&&s._createAssociation(i,this),fs(this,r=>{i.insertBefore(r.toDOM(e,n,s),null)}),i}insert(e,n){this.doc!==null?Y(this.doc,s=>{bu(s,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Y(this.doc,s=>{const i=e&&e instanceof ge?e._item:e;ui(s,this,i,n)});else{const s=this._prelimContent,i=e===null?0:s.findIndex(r=>r===e)+1;if(i===0&&e!==null)throw wt("Reference item not found");s.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?Y(this.doc,s=>{_u(s,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return gu(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return yu(this,e)}slice(e=0,n=this.length){return pu(this,e,n)}forEach(e){fs(this,e)}_write(e){e.writeTypeRef(ey)}}const Nm=t=>new Xt;class En extends Xt{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((s,i)=>{this.setAttribute(i,s)}),this._prelimAttrs=null}_copy(){return new En(this.nodeName)}clone(){const e=new En(this.nodeName),n=this.getAttributes();return wg(n,(s,i)=>{typeof s=="string"&&e.setAttribute(i,s)}),e.insert(0,this.toArray().map(s=>s instanceof ge?s.clone():s)),e}toString(){const e=this.getAttributes(),n=[],s=[];for(const l in e)s.push(l);s.sort();const i=s.length;for(let l=0;l<i;l++){const c=s[l];n.push(c+'="'+e[c]+'"')}const r=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${r}${o}>${super.toString()}</${r}>`}removeAttribute(e){this.doc!==null?Y(this.doc,n=>{hi(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Y(this.doc,s=>{Do(s,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Io(this,e)}hasAttribute(e){return xu(this,e)}getAttributes(e){return e?Em(this,e):ku(this)}toDOM(e=document,n={},s){const i=e.createElement(this.nodeName),r=this.getAttributes();for(const o in r){const l=r[o];typeof l=="string"&&i.setAttribute(o,l)}return fs(this,o=>{i.appendChild(o.toDOM(e,n,s))}),s!==void 0&&s._createAssociation(i,this),i}_write(e){e.writeTypeRef(Qm),e.writeKey(this.nodeName)}}const Mm=t=>new En(t.readKey());class Bm extends Ui{constructor(e,n,s){super(e,s),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class fi extends xn{constructor(e){super(),this.hookName=e}_copy(){return new fi(this.hookName)}clone(){const e=new fi(this.hookName);return this.forEach((n,s)=>{e.set(s,n)}),e}toDOM(e=document,n={},s){const i=n[this.hookName];let r;return i!==void 0?r=i.createDom(this):r=document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),s!==void 0&&s._createAssociation(r,this),r}_write(e){e.writeTypeRef(ty),e.writeKey(this.hookName)}}const Um=t=>new fi(t.readKey());class di extends Sn{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new di}clone(){const e=new di;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,s){const i=e.createTextNode(this.toString());return s!==void 0&&s._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const r=[];for(const o in e.attributes[i])r.push({key:o,value:e.attributes[i][o]});r.sort((o,l)=>o.key<l.key?-1:1),n.push({nodeName:i,attrs:r})}n.sort((i,r)=>i.nodeName<r.nodeName?-1:1);let s="";for(let i=0;i<n.length;i++){const r=n[i];s+=`<${r.nodeName}`;for(let o=0;o<r.attrs.length;o++){const l=r.attrs[o];s+=` ${l.key}="${l.value}"`}s+=">"}s+=e.insert;for(let i=n.length-1;i>=0;i--)s+=`</${n[i].nodeName}>`;return s}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(ny)}}const $m=t=>new di;class Lo{constructor(e,n){this.id=e,this.length=n}get deleted(){throw it()}mergeWith(e){return!1}write(e,n,s){throw it()}integrate(e,n){throw it()}}const Fm=0;class $e extends Lo{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),cu(e.doc.store,this)}write(e,n){e.writeInfo(Fm),e.writeLen(this.length-n)}getMissing(e,n){return null}}class xs{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new xs(this.content)}splice(e){throw it()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const Pm=t=>new xs(t.readBuf());class ds{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new ds(this.len)}splice(e){const n=new ds(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){us(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Vm=t=>new ds(t.readLen()),Au=(t,e)=>new _s({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Ss{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Ss(Au(this.doc.guid,this.opts))}splice(e){throw it()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const jm=t=>new Ss(Au(t.readString(),t.readAny()));class tn{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new tn(this.embed)}splice(e){throw it()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Hm=t=>new tn(t.readJSON());class he{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new he(this.key,this.value)}splice(e){throw it()}mergeWith(e){return!1}integrate(e,n){const s=n.parent;s._searchMarker=null,s._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const zm=t=>new he(t.readKey(),t.readJSON());class pi{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new pi(this.arr)}splice(e){const n=new pi(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const s=this.arr.length;e.writeLen(s-n);for(let i=n;i<s;i++){const r=this.arr[i];e.writeString(r===void 0?"undefined":JSON.stringify(r))}}getRef(){return 2}}const qm=t=>{const e=t.readLen(),n=[];for(let s=0;s<e;s++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new pi(n)},Km=li("node_env")==="development";class Zt{constructor(e){this.arr=e,Km&&za(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Zt(this.arr)}splice(e){const n=new Zt(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const s=this.arr.length;e.writeLen(s-n);for(let i=n;i<s;i++){const r=this.arr[i];e.writeAny(r)}}getRef(){return 8}}const Wm=t=>{const e=t.readLen(),n=[];for(let s=0;s<e;s++)n.push(t.readAny());return new Zt(n)};class at{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new at(this.str)}splice(e){const n=new at(this.str.slice(e));this.str=this.str.slice(0,e);const s=this.str.charCodeAt(e-1);return s>=55296&&s<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Jm=t=>new at(t.readString()),Ym=[Tm,vm,Lm,Mm,Nm,Um,$m],Gm=0,Xm=1,Zm=2,Qm=3,ey=4,ty=5,ny=6;class xt{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new xt(this.type._copy())}splice(e){throw it()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(s=>{s.deleted?s.id.clock<(e.beforeState.get(s.id.client)||0)&&e._mergeStructs.push(s):s.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(s=>{for(;s!==null;)s.gc(e,!0),s=s.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const sy=t=>new xt(Ym[t.readTypeRef()](t)),iy=(t,e)=>{let n=e,s=0,i;do s>0&&(n=B(n.client,n.clock+s)),i=Xs(t,n),s=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof se);return{item:i,diff:s}},No=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},gi=(t,e,n)=>{const{client:s,clock:i}=e.id,r=new se(B(s,i+n),e,B(s,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),e.redone!==null&&(r.redone=B(e.redone.client,e.redone.clock+n)),e.right=r,r.right!==null&&(r.right.left=r),t._mergeStructs.push(r),r.parentSub!==null&&r.right===null&&r.parent._map.set(r.parentSub,r),e.length=n,r},Zl=(t,e)=>Lp(t,n=>bs(n.deletions,e)),vu=(t,e,n,s,i,r)=>{const o=t.doc,l=o.store,c=o.clientID,u=e.redone;if(u!==null)return Ce(t,u);let a=e.parent._item,h=null,f;if(a!==null&&a.deleted===!0){if(a.redone===null&&(!n.has(a)||vu(t,a,n,s,i,r)===null))return null;for(;a.redone!==null;)a=Ce(t,a.redone)}const p=a===null?e.parent:a.content.type;if(e.parentSub===null){for(h=e.left,f=e;h!==null;){let A=h;for(;A!==null&&A.parent._item!==a;)A=A.redone===null?null:Ce(t,A.redone);if(A!==null&&A.parent._item===a){h=A;break}h=h.left}for(;f!==null;){let A=f;for(;A!==null&&A.parent._item!==a;)A=A.redone===null?null:Ce(t,A.redone);if(A!==null&&A.parent._item===a){f=A;break}f=f.right}}else if(f=null,e.right&&!i){for(h=e;h!==null&&h.right!==null&&(h.right.redone||bs(s,h.right.id)||Zl(r.undoStack,h.right.id)||Zl(r.redoStack,h.right.id));)for(h=h.right;h.redone;)h=Ce(t,h.redone);if(h&&h.right!==null)return null}else h=p._map.get(e.parentSub)||null;const m=ue(l,c),_=B(c,m),v=new se(_,h,h&&h.lastId,f,f&&f.id,p,e.parentSub,e.content.copy());return e.redone=_,No(v,!0),v.integrate(t,0),v};class se extends Lo{constructor(e,n,s,i,r,o,l,c){super(e,c.getLength()),this.origin=s,this.left=n,this.right=i,this.rightOrigin=r,this.parent=o,this.parentSub=l,this.redone=null,this.content=c,this.info=this.content.isCountable()?Ol:0}set marker(e){(this.info&or)>0!==e&&(this.info^=or)}get marker(){return(this.info&or)>0}get keep(){return(this.info&Rl)>0}set keep(e){this.keep!==e&&(this.info^=Rl)}get countable(){return(this.info&Ol)>0}get deleted(){return(this.info&rr)>0}set deleted(e){this.deleted!==e&&(this.info^=rr)}markDeleted(){this.info|=rr}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=ue(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=ue(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===gn&&this.id.client!==this.parent.client&&this.parent.clock>=ue(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Hl(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ce(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===$e||this.right&&this.right.constructor===$e)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===se&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===se&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===gn){const s=Xs(n,this.parent);s.constructor===$e?this.parent=null:this.parent=s.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=Hl(e,e.doc.store,B(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let s=this.left,i;if(s!==null)i=s.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const r=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),r.add(i),Bs(this.origin,i.origin)){if(i.id.client<this.id.client)s=i,r.clear();else if(Bs(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(Xs(e.doc.store,i.origin)))r.has(Xs(e.doc.store,i.origin))||(s=i,r.clear());else break;i=i.right}this.left=s}if(this.left!==null){const s=this.left.right;this.right=s,this.left.right=this}else{let s;if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start,this.parent._start=this;this.right=s}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),cu(e.doc.store,this),this.content.integrate(e,this),ql(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new $e(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:B(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Bs(e.origin,this.lastId)&&this.right===e&&Bs(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(s=>{s.p===e&&(s.p=this,!this.deleted&&this.countable&&(s.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),us(e.deleteSet,this.id.client,this.id.clock,this.length),ql(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw lt();this.content.gc(e),n?lm(e,this,new $e(this.id,this.length)):this.content=new ds(this.length)}write(e,n){const s=n>0?B(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,r=this.parentSub,o=this.content.getRef()&Li|(s===null?0:Me)|(i===null?0:yt)|(r===null?0:rs);if(e.writeInfo(o),s!==null&&e.writeLeftID(s),i!==null&&e.writeRightID(i),s===null&&i===null){const l=this.parent;if(l._item!==void 0){const c=l._item;if(c===null){const u=rm(l);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(c.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===gn?(e.writeParentInfo(!1),e.writeLeftID(l)):lt();r!==null&&e.writeString(r)}this.content.write(e,n)}}const Ru=(t,e)=>ry[e&Li](t),ry=[()=>{lt()},Vm,qm,Pm,Jm,Hm,zm,sy,Wm,jm,()=>{lt()}],oy=10;class Fe extends Lo{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){lt()}write(e,n){e.writeInfo(oy),z(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Du="__ $YJS$ __";Ou[Du]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Ou[Du]=!0;const nn=t=>bn((e,n)=>{t.onerror=s=>n(new Error(s.target.error)),t.onsuccess=s=>e(s.target.result)}),ly=(t,e)=>bn((n,s)=>{const i=indexedDB.open(t);i.onupgradeneeded=r=>e(r.target.result),i.onerror=r=>s(wt(r.target.error)),i.onsuccess=r=>{const o=r.target.result;o.onversionchange=()=>{o.close()},n(o)}}),cy=t=>nn(indexedDB.deleteDatabase(t)),ay=(t,e)=>e.forEach(n=>t.createObjectStore.apply(t,n)),Vn=(t,e,n="readwrite")=>{const s=t.transaction(e,n);return e.map(i=>yy(s,i))},Iu=(t,e)=>nn(t.count(e)),uy=(t,e)=>nn(t.get(e)),Lu=(t,e)=>nn(t.delete(e)),hy=(t,e,n)=>nn(t.put(e,n)),Hr=(t,e)=>nn(t.add(e)),fy=(t,e,n)=>nn(t.getAll(e,n)),dy=(t,e,n)=>{let s=null;return my(t,e,i=>(s=i,!1),n).then(()=>s)},py=(t,e=null)=>dy(t,e,"prev"),gy=(t,e)=>bn((n,s)=>{t.onerror=s,t.onsuccess=async i=>{const r=i.target.result;if(r===null||await e(r)===!1)return n();r.continue()}}),my=(t,e,n,s="next")=>gy(t.openKeyCursor(e,s),i=>n(i.key)),yy=(t,e)=>t.objectStore(e),wy=(t,e)=>IDBKeyRange.upperBound(t,e),by=(t,e)=>IDBKeyRange.lowerBound(t,e),fr="custom",Nu="updates",Mu=500,Bu=(t,e=()=>{},n=()=>{})=>{const[s]=Vn(t.db,[Nu]);return fy(s,by(t._dbref,!1)).then(i=>{t._destroyed||(e(s),Y(t.doc,()=>{i.forEach(r=>em(t.doc,r))},t,!1),n(s))}).then(()=>py(s).then(i=>{t._dbref=i+1})).then(()=>Iu(s).then(i=>{t._dbsize=i})).then(()=>s)},_y=(t,e=!0)=>Bu(t).then(n=>{(e||t._dbsize>=Mu)&&Hr(n,iu(t.doc)).then(()=>Lu(n,wy(t._dbref,!0))).then(()=>Iu(n).then(s=>{t._dbsize=s}))});class kw extends Np{constructor(e,n){super(),this.doc=n,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=ly(e,s=>ay(s,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=bn(s=>this.on("synced",()=>s(this))),this._db.then(s=>{this.db=s,Bu(this,o=>Hr(o,iu(n)),()=>{if(this._destroyed)return this;this.synced=!0,this.emit("synced",[this])})}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(s,i)=>{if(this.db&&i!==this){const[r]=Vn(this.db,[Nu]);Hr(r,s),++this._dbsize>=Mu&&(this._storeTimeoutId!==null&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{_y(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},n.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),n.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{cy(this.name)})}get(e){return this._db.then(n=>{const[s]=Vn(n,[fr],"readonly");return uy(s,e)})}set(e,n){return this._db.then(s=>{const[i]=Vn(s,[fr]);return hy(i,n,e)})}del(e){return this._db.then(n=>{const[s]=Vn(n,[fr]);return Lu(s,e)})}}var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ky(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uu={exports:{}};(function(t,e){(function(n,s){s()})(Un,function(){function n(u,a){return typeof a>"u"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function s(u,a,h){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){c(f.response,a,h)},f.onerror=function(){console.error("could not download file")},f.send()}function i(u){var a=new XMLHttpRequest;a.open("HEAD",u,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function r(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(a)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Un=="object"&&Un.global===Un?Un:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,a,h){var f=o.URL||o.webkitURL,p=document.createElement("a");a=a||u.name||"download",p.download=a,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?r(p):i(p.href)?s(u,a,h):r(p,p.target="_blank")):(p.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(p.href)},4e4),setTimeout(function(){r(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,a,h){if(a=a||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),a);else if(i(u))s(u,a,h);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){r(f)})}}:function(u,a,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return s(u,a,h);var p=u.type==="application/octet-stream",m=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||p&&m||l)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var U=v.result;U=_?U:U.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=U:location=U,f=null},v.readAsDataURL(u)}else{var A=o.URL||o.webkitURL,P=A.createObjectURL(u);f?f.location=P:location.href=P,f=null,setTimeout(function(){A.revokeObjectURL(P)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})})(Uu);var xy=Uu.exports;const xw=ky(xy);function Mo(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let sn=Mo();function $u(t){sn=t}const Fu=/[&<>"']/,Sy=new RegExp(Fu.source,"g"),Pu=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ey=new RegExp(Pu.source,"g"),Cy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ql=t=>Cy[t];function Le(t,e){if(e){if(Fu.test(t))return t.replace(Sy,Ql)}else if(Pu.test(t))return t.replace(Ey,Ql);return t}const Ty=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ay(t){return t.replace(Ty,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const vy=/(^|[^\[])\^/g;function X(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const s={replace:(i,r)=>{let o=typeof r=="string"?r:r.source;return o=o.replace(vy,"$1"),n=n.replace(i,o),s},getRegex:()=>new RegExp(n,e)};return s}function ec(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Zn={exec:()=>null};function tc(t,e){const n=t.replace(/\|/g,(r,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),s=n.split(/ \|/);let i=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;i<s.length;i++)s[i]=s[i].trim().replace(/\\\|/g,"|");return s}function Fs(t,e,n){const s=t.length;if(s===0)return"";let i=0;for(;i<s&&t.charAt(s-i-1)===e;)i++;return t.slice(0,s-i)}function Ry(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return-1}function nc(t,e,n,s){const i=e.href,r=e.title?Le(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const l={type:"link",raw:n,href:i,title:r,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:r,text:Le(o)}}function Oy(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[o]=r;return o.length>=s.length?i.slice(s.length):i}).join(`
`)}class mi{constructor(e){ne(this,"options");ne(this,"rules");ne(this,"lexer");this.options=e||sn}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Fs(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],i=Oy(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const i=Fs(s,"#");(this.options.pedantic||!i||/ $/.test(i))&&(s=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const s=Fs(n[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(s);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:r,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim();const i=s.length>1,r={type:"list",raw:"",ordered:i,start:i?+s.slice(0,-1):"",loose:!1,items:[]};s=i?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=i?s:"[*+-]");const o=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",c="",u=!1;for(;e;){let a=!1;if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;l=n[0],e=e.substring(l.length);let h=n[2].split(`
`,1)[0].replace(/^\t+/,A=>" ".repeat(3*A.length)),f=e.split(`
`,1)[0],p=0;this.options.pedantic?(p=2,c=h.trimStart()):(p=n[2].search(/[^ ]/),p=p>4?1:p,c=h.slice(p),p+=n[1].length);let m=!1;if(!h&&/^ *$/.test(f)&&(l+=f+`
`,e=e.substring(f.length+1),a=!0),!a){const A=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),P=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),U=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),O=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;e;){const V=e.split(`
`,1)[0];if(f=V,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),U.test(f)||O.test(f)||A.test(f)||P.test(e))break;if(f.search(/[^ ]/)>=p||!f.trim())c+=`
`+f.slice(p);else{if(m||h.search(/[^ ]/)>=4||U.test(h)||O.test(h)||P.test(h))break;c+=`
`+f}!m&&!f.trim()&&(m=!0),l+=V+`
`,e=e.substring(V.length+1),h=f.slice(p)}}r.loose||(u?r.loose=!0:/\n *\n *$/.test(l)&&(u=!0));let _=null,v;this.options.gfm&&(_=/^\[[ xX]\] /.exec(c),_&&(v=_[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),r.items.push({type:"list_item",raw:l,task:!!_,checked:v,loose:!1,text:c,tokens:[]}),r.raw+=l}r.items[r.items.length-1].raw=l.trimEnd(),r.items[r.items.length-1].text=c.trimEnd(),r.raw=r.raw.trimEnd();for(let a=0;a<r.items.length;a++)if(this.lexer.state.top=!1,r.items[a].tokens=this.lexer.blockTokens(r.items[a].text,[]),!r.loose){const h=r.items[a].tokens.filter(p=>p.type==="space"),f=h.length>0&&h.some(p=>/\n.*\n/.test(p.raw));r.loose=f}if(r.loose)for(let a=0;a<r.items.length;a++)r.items[a].loose=!0;return r}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:i,title:r}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const s=tc(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),r=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===i.length){for(const l of i)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(const l of s)o.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of r)o.rows.push(tc(l,o.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Le(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const o=Fs(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{const o=Ry(n[2],"()");if(o>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],r="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],r=o[3])}else r=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(s)?i=i.slice(1):i=i.slice(1,-1)),nc(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const i=(s[2]||s[1]).replace(/\s+/g," "),r=n[i.toLowerCase()];if(!r){const o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return nc(s,r,s[0],this.lexer)}}emStrong(e,n,s=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const o=[...i[0]].length-1;let l,c,u=o,a=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+o);(i=h.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(c=[...l].length,i[3]||i[4]){u+=c;continue}else if((i[5]||i[6])&&o%3&&!((o+c)%3)){a+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+a);const f=[...i[0]][0].length,p=e.slice(0,o+i.index+f+c);if(Math.min(o,c)%2){const _=p.slice(1,-1);return{type:"em",raw:p,text:_,tokens:this.lexer.inlineTokens(_)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const i=/[^ ]/.test(s),r=/^ /.test(s)&&/ $/.test(s);return i&&r&&(s=s.substring(1,s.length-1)),s=Le(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let s,i;return n[2]==="@"?(s=Le(n[1]),i="mailto:"+s):(s=Le(n[1]),i=s),{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let n;if(n=this.rules.inline.url.exec(e)){let i,r;if(n[2]==="@")i=Le(n[0]),r="mailto:"+i;else{let o;do o=n[0],n[0]=((s=this.rules.inline._backpedal.exec(n[0]))==null?void 0:s[0])??"";while(o!==n[0]);i=Le(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=n[0]:s=Le(n[0]),{type:"text",raw:n[0],text:s}}}}const Dy=/^(?: *(?:\n|$))+/,Iy=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Ly=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Es=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ny=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Vu=/(?:[*+-]|\d{1,9}[.)])/,ju=X(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Vu).getRegex(),Bo=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,My=/^[^\n]+/,Uo=/(?!\s*\])(?:\\.|[^\[\]\\])+/,By=X(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Uo).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Uy=X(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Vu).getRegex(),Pi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$o=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$y=X("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",$o).replace("tag",Pi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hu=X(Bo).replace("hr",Es).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex(),Fy=X(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Hu).getRegex(),Fo={blockquote:Fy,code:Iy,def:By,fences:Ly,heading:Ny,hr:Es,html:$y,lheading:ju,list:Uy,newline:Dy,paragraph:Hu,table:Zn,text:My},sc=X("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Es).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex(),Py={...Fo,table:sc,paragraph:X(Bo).replace("hr",Es).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sc).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex()},Vy={...Fo,html:X(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$o).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Zn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:X(Bo).replace("hr",Es).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ju).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},zu=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,jy=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,qu=/^( {2,}|\\)\n(?!\s*$)/,Hy=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Cs="\\p{P}$+<=>`^|~",zy=X(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Cs).getRegex(),qy=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Ky=X(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Cs).getRegex(),Wy=X("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Cs).getRegex(),Jy=X("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Cs).getRegex(),Yy=X(/\\([punct])/,"gu").replace(/punct/g,Cs).getRegex(),Gy=X(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Xy=X($o).replace("(?:-->|$)","-->").getRegex(),Zy=X("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Xy).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yi=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qy=X(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",yi).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ku=X(/^!?\[(label)\]\[(ref)\]/).replace("label",yi).replace("ref",Uo).getRegex(),Wu=X(/^!?\[(ref)\](?:\[\])?/).replace("ref",Uo).getRegex(),ew=X("reflink|nolink(?!\\()","g").replace("reflink",Ku).replace("nolink",Wu).getRegex(),Po={_backpedal:Zn,anyPunctuation:Yy,autolink:Gy,blockSkip:qy,br:qu,code:jy,del:Zn,emStrongLDelim:Ky,emStrongRDelimAst:Wy,emStrongRDelimUnd:Jy,escape:zu,link:Qy,nolink:Wu,punctuation:zy,reflink:Ku,reflinkSearch:ew,tag:Zy,text:Hy,url:Zn},tw={...Po,link:X(/^!?\[(label)\]\((.*?)\)/).replace("label",yi).getRegex(),reflink:X(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yi).getRegex()},zr={...Po,escape:X(zu).replace("])","~|])").getRegex(),url:X(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},nw={...zr,br:X(qu).replace("{2,}","*").getRegex(),text:X(zr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ps={normal:Fo,gfm:Py,pedantic:Vy},$n={normal:Po,gfm:zr,breaks:nw,pedantic:tw};class tt{constructor(e){ne(this,"tokens");ne(this,"options");ne(this,"state");ne(this,"tokenizer");ne(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||sn,this.options.tokenizer=this.options.tokenizer||new mi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Ps.normal,inline:$n.normal};this.options.pedantic?(n.block=Ps.pedantic,n.inline=$n.pedantic):this.options.gfm&&(n.block=Ps.gfm,this.options.breaks?n.inline=$n.breaks:n.inline=$n.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ps,inline:$n}}static lex(e,n){return new tt(n).lex(e)}static lexInline(e,n){return new tt(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,u)=>c+"    ".repeat(u.length));let s,i,r,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(s=l.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let u;this.options.extensions.startBlock.forEach(a=>{u=a.call({lexer:this},c),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(s=this.tokenizer.paragraph(r))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s),o=r.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let s,i,r,o=e,l,c,u;if(this.tokens.links){const a=Object.keys(this.tokens.links);if(a.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)a.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(a=>(s=a.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,o,u)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let a=1/0;const h=e.slice(1);let f;this.options.extensions.startInline.forEach(p=>{f=p.call({lexer:this},h),typeof f=="number"&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(r=e.substring(0,a+1))}if(s=this.tokenizer.inlineText(r)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(u=s.raw.slice(-1)),c=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return n}}class wi{constructor(e){ne(this,"options");this.options=e||sn}code(e,n,s){var r;const i=(r=(n||"").match(/^\S*/))==null?void 0:r[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Le(i)+'">'+(s?e:Le(e,!0))+`</code></pre>
`:"<pre><code>"+(s?e:Le(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,s){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,s){const i=n?"ol":"ul",r=n&&s!==1?' start="'+s+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e,n,s){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const s=n.header?"th":"td";return(n.align?`<${s} align="${n.align}">`:`<${s}>`)+e+`</${s}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,s){const i=ec(e);if(i===null)return s;e=i;let r='<a href="'+e+'"';return n&&(r+=' title="'+n+'"'),r+=">"+s+"</a>",r}image(e,n,s){const i=ec(e);if(i===null)return s;e=i;let r=`<img src="${e}" alt="${s}"`;return n&&(r+=` title="${n}"`),r+=">",r}text(e){return e}}class Vo{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,s){return""+s}image(e,n,s){return""+s}br(){return""}}class nt{constructor(e){ne(this,"options");ne(this,"renderer");ne(this,"textRenderer");this.options=e||sn,this.options.renderer=this.options.renderer||new wi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Vo}static parse(e,n){return new nt(n).parse(e)}static parseInline(e,n){return new nt(n).parseInline(e)}parse(e,n=!0){let s="";for(let i=0;i<e.length;i++){const r=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){const o=r,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){s+=l||"";continue}}switch(r.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{const o=r;s+=this.renderer.heading(this.parseInline(o.tokens),o.depth,Ay(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=r;s+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=r;let l="",c="";for(let a=0;a<o.header.length;a++)c+=this.renderer.tablecell(this.parseInline(o.header[a].tokens),{header:!0,align:o.align[a]});l+=this.renderer.tablerow(c);let u="";for(let a=0;a<o.rows.length;a++){const h=o.rows[a];c="";for(let f=0;f<h.length;f++)c+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:o.align[f]});u+=this.renderer.tablerow(c)}s+=this.renderer.table(l,u);continue}case"blockquote":{const o=r,l=this.parse(o.tokens);s+=this.renderer.blockquote(l);continue}case"list":{const o=r,l=o.ordered,c=o.start,u=o.loose;let a="";for(let h=0;h<o.items.length;h++){const f=o.items[h],p=f.checked,m=f.task;let _="";if(f.task){const v=this.renderer.checkbox(!!p);u?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v+" "}):_+=v+" "}_+=this.parse(f.tokens,u),a+=this.renderer.listitem(_,m,!!p)}s+=this.renderer.list(a,l,c);continue}case"html":{const o=r;s+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=r;s+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=r,l=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);s+=n?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return s}parseInline(e,n){n=n||this.renderer;let s="";for(let i=0;i<e.length;i++){const r=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){const o=this.options.extensions.renderers[r.type].call({parser:this},r);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){s+=o||"";continue}}switch(r.type){case"escape":{const o=r;s+=n.text(o.text);break}case"html":{const o=r;s+=n.html(o.text);break}case"link":{const o=r;s+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{const o=r;s+=n.image(o.href,o.title,o.text);break}case"strong":{const o=r;s+=n.strong(this.parseInline(o.tokens,n));break}case"em":{const o=r;s+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{const o=r;s+=n.codespan(o.text);break}case"br":{s+=n.br();break}case"del":{const o=r;s+=n.del(this.parseInline(o.tokens,n));break}case"text":{const o=r;s+=n.text(o.text);break}default:{const o='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return s}}class Qn{constructor(e){ne(this,"options");this.options=e||sn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}ne(Qn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ps,qr,bi,Ju;class sw{constructor(...e){ji(this,ps);ji(this,bi);ne(this,"defaults",Mo());ne(this,"options",this.setOptions);ne(this,"parse",Rs(this,ps,qr).call(this,tt.lex,nt.parse));ne(this,"parseInline",Rs(this,ps,qr).call(this,tt.lexInline,nt.parseInline));ne(this,"Parser",nt);ne(this,"Renderer",wi);ne(this,"TextRenderer",Vo);ne(this,"Lexer",tt);ne(this,"Tokenizer",mi);ne(this,"Hooks",Qn);this.use(...e)}walkTokens(e,n){var i,r;let s=[];for(const o of e)switch(s=s.concat(n.call(this,o)),o.type){case"table":{const l=o;for(const c of l.header)s=s.concat(this.walkTokens(c.tokens,n));for(const c of l.rows)for(const u of c)s=s.concat(this.walkTokens(u.tokens,n));break}case"list":{const l=o;s=s.concat(this.walkTokens(l.items,n));break}default:{const l=o;(r=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&r[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const u=l[c].flat(1/0);s=s.concat(this.walkTokens(u,n))}):l.tokens&&(s=s.concat(this.walkTokens(l.tokens,n)))}}return s}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const i={...s};if(i.async=this.defaults.async||i.async||!1,s.extensions&&(s.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const o=n.renderers[r.name];o?n.renderers[r.name]=function(...l){let c=r.renderer.apply(this,l);return c===!1&&(c=o.apply(this,l)),c}:n.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[r.level];o?o.unshift(r.tokenizer):n[r.level]=[r.tokenizer],r.start&&(r.level==="block"?n.startBlock?n.startBlock.push(r.start):n.startBlock=[r.start]:r.level==="inline"&&(n.startInline?n.startInline.push(r.start):n.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(n.childTokens[r.name]=r.childTokens)}),i.extensions=n),s.renderer){const r=this.defaults.renderer||new wi(this.defaults);for(const o in s.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const l=o,c=s.renderer[l],u=r[l];r[l]=(...a)=>{let h=c.apply(r,a);return h===!1&&(h=u.apply(r,a)),h||""}}i.renderer=r}if(s.tokenizer){const r=this.defaults.tokenizer||new mi(this.defaults);for(const o in s.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,c=s.tokenizer[l],u=r[l];r[l]=(...a)=>{let h=c.apply(r,a);return h===!1&&(h=u.apply(r,a)),h}}i.tokenizer=r}if(s.hooks){const r=this.defaults.hooks||new Qn;for(const o in s.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,c=s.hooks[l],u=r[l];Qn.passThroughHooks.has(o)?r[l]=a=>{if(this.defaults.async)return Promise.resolve(c.call(r,a)).then(f=>u.call(r,f));const h=c.call(r,a);return u.call(r,h)}:r[l]=(...a)=>{let h=c.apply(r,a);return h===!1&&(h=u.apply(r,a)),h}}i.hooks=r}if(s.walkTokens){const r=this.defaults.walkTokens,o=s.walkTokens;i.walkTokens=function(l){let c=[];return c.push(o.call(this,l)),r&&(c=c.concat(r.call(this,l))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return tt.lex(e,n??this.defaults)}parser(e,n){return nt.parse(e,n??this.defaults)}}ps=new WeakSet,qr=function(e,n){return(s,i)=>{const r={...i},o={...this.defaults,...r};this.defaults.async===!0&&r.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=Rs(this,bi,Ju).call(this,!!o.silent,!!o.async);if(typeof s>"u"||s===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>n(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(l);try{o.hooks&&(s=o.hooks.preprocess(s));let c=e(s,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let u=n(c,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(c){return l(c)}}},bi=new WeakSet,Ju=function(e,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Le(s.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(s);throw s}};const Qt=new sw;function G(t,e){return Qt.parse(t,e)}G.options=G.setOptions=function(t){return Qt.setOptions(t),G.defaults=Qt.defaults,$u(G.defaults),G};G.getDefaults=Mo;G.defaults=sn;G.use=function(...t){return Qt.use(...t),G.defaults=Qt.defaults,$u(G.defaults),G};G.walkTokens=function(t,e){return Qt.walkTokens(t,e)};G.parseInline=Qt.parseInline;G.Parser=nt;G.parser=nt.parse;G.Renderer=wi;G.TextRenderer=Vo;G.Lexer=tt;G.lexer=tt.lex;G.Tokenizer=mi;G.Hooks=Qn;G.parse=G;G.options;G.setOptions;G.use;G.walkTokens;G.parseInline;nt.parse;tt.lex;export{pw as A,gw as B,_s as D,Ze as F,kw as I,_w as U,$f as a,cw as b,ga as c,mw as d,fa as e,hw as f,dw as g,hh as h,fw as i,aw as j,Xr as k,sr as l,Nc as m,Gr as n,co as o,Hc as p,Jn as q,Dc as r,Mh as s,Y as t,uw as u,yw as v,ow as w,lw as x,xw as y,Pf as z};
